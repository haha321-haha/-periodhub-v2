


çœ‹åˆ°æ‚¨å¯¹ConstitutionTestToolç»„ä»¶é—®é¢˜çš„è¯¦ç»†åˆ†æï¼Œæˆ‘å»ºè®®é‡‡ç”¨**æ··åˆæ–¹æ¡ˆï¼ˆæ–¹æ¡ˆ4ï¼‰**ï¼Œè¿™æ˜¯æœ€åŠ¡å®çš„è§£å†³è·¯å¾„ã€‚è®©æˆ‘ä¸ºæ‚¨æä¾›å…·ä½“çš„æ‰§è¡Œç­–ç•¥ï¼š

## ğŸš€ **ç«‹å³æ‰§è¡Œè®¡åˆ’**

### **ç¬¬ä¸€é˜¶æ®µï¼šç´§æ€¥æ¢å¤åŠŸèƒ½ï¼ˆä¼˜å…ˆçº§ï¼šğŸ”´ æœ€é«˜ï¼‰**

**æ¨èæ–¹æ¡ˆ1 + è¯­æ³•å¿«é€Ÿä¿®å¤**ï¼š

```typescript
// 1. ç«‹å³å¤‡ä»½å½“å‰æŸåçš„ç»„ä»¶
cp ConstitutionTestTool.tsx ConstitutionTestTool.backup.tsx

// 2. æ£€æŸ¥å¹¶ä¿®å¤æœ€å…³é”®çš„è¯­æ³•é”™è¯¯
// é‡ç‚¹å…³æ³¨ï¼š
- æ‹¬å·åŒ¹é…é—®é¢˜ï¼ˆ247 vs 249ï¼‰
- JSONè§£æé”™è¯¯çš„å…·ä½“ä½ç½®
- JSXç»“æ„å®Œæ•´æ€§
```

**ç´§æ€¥ä¿®å¤æ£€æŸ¥æ¸…å•**ï¼š
- âœ… æ£€æŸ¥æ‰€æœ‰ `{` å’Œ `}` çš„é…å¯¹
- âœ… éªŒè¯æ‰€æœ‰ JSON.parse() è°ƒç”¨çš„æ•°æ®æº
- âœ… ç¡®è®¤æ‰€æœ‰ JSX æ ‡ç­¾é—­åˆ
- âœ… æ£€æŸ¥ import/export è¯­å¥å®Œæ•´æ€§

### **ç¬¬äºŒé˜¶æ®µï¼šç»“æ„åŒ–é‡æ„ï¼ˆ1-2å‘¨å†…ï¼‰**

åŸºäº979è¡Œä»£ç çš„å¤æ‚åº¦ï¼Œæˆ‘å»ºè®®è¿™æ ·æ‹†åˆ†ï¼š

```typescript
// æ ¸å¿ƒç»„ä»¶æ¶æ„
ConstitutionTestTool/
â”œâ”€â”€ index.tsx                    // ä¸»å®¹å™¨ç»„ä»¶
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ TestHeader.tsx          // æµ‹è¯•æ ‡é¢˜å’Œè¯´æ˜
â”‚   â”œâ”€â”€ QuestionCard.tsx        // å•ä¸ªé—®é¢˜ç»„ä»¶
â”‚   â”œâ”€â”€ ProgressIndicator.tsx   // è¿›åº¦æ˜¾ç¤º
â”‚   â”œâ”€â”€ NavigationControls.tsx  // å¯¼èˆªæŒ‰é’®
â”‚   â””â”€â”€ ResultDisplay.tsx       // ç»“æœå±•ç¤º
â”œâ”€â”€ hooks/
â”‚   â”œâ”€â”€ useTestState.ts         // æµ‹è¯•çŠ¶æ€ç®¡ç†
â”‚   â”œâ”€â”€ useTestLogic.ts         // ä¸šåŠ¡é€»è¾‘
â”‚   â””â”€â”€ useTestData.ts          // æ•°æ®å¤„ç†
â””â”€â”€ types/
    â””â”€â”€ constitution.types.ts    // ç±»å‹å®šä¹‰
```

## ğŸ’¡ **å…·ä½“å®æ–½å»ºè®®**

### **1. ç«‹å³ä¿®å¤æ­¥éª¤ï¼ˆä»Šå¤©å®Œæˆï¼‰**ï¼š### **2. é•¿æœŸé‡æ„è®¡åˆ’ï¼ˆåˆ†é˜¶æ®µè¿›è¡Œï¼‰**ï¼š## ğŸ¯ **æˆ‘çš„å…·ä½“å»ºè®®**

åŸºäºæ‚¨çš„åˆ†æå’Œç»„ä»¶çš„å¤æ‚åº¦ï¼Œæˆ‘å¼ºçƒˆå»ºè®®æŒ‰ä»¥ä¸‹é¡ºåºæ‰§è¡Œï¼š

### **âš¡ ä»Šå¤©ç«‹å³æ‰§è¡Œï¼ˆ2-4å°æ—¶ï¼‰**ï¼š
1. **ä½¿ç”¨ç¬¬ä¸€ä¸ªartifactçš„ç´§æ€¥ä¿®å¤è„šæœ¬**
2. **å¤‡ä»½åŸæ–‡ä»¶**
3. **åº”ç”¨åŸºç¡€æ¨¡æ¿**å¿«é€Ÿæ¢å¤åŠŸèƒ½
4. **æ·»åŠ é”™è¯¯è¾¹ç•Œ**ç¡®ä¿ç”¨æˆ·ä½“éªŒ

### **ğŸ“… æœ¬å‘¨å†…å®Œæˆï¼ˆ3-5å¤©ï¼‰**ï¼š
1. **è¯­æ³•æ·±åº¦ä¿®å¤**ï¼šè§£å†³æ‰€æœ‰247 vs 249æ‹¬å·é—®é¢˜
2. **æ•°æ®éªŒè¯**ï¼šç¡®ä¿æ‰€æœ‰JSONè§£ææ­£å¸¸
3. **åŠŸèƒ½æµ‹è¯•**ï¼šéªŒè¯æ‰€æœ‰äº¤äº’æ­£å¸¸å·¥ä½œ

### **ğŸ—ï¸ ä¸‹ä¸ªSprintï¼ˆ1-2å‘¨ï¼‰**ï¼š
1. **æŒ‰ç¬¬äºŒä¸ªartifactçš„æ¶æ„æ–¹æ¡ˆé‡æ„**
2. **ç»„ä»¶æ‹†åˆ†**ï¼šä»979è¡Œæ‹†åˆ†ä¸ºå¤šä¸ª< 100è¡Œçš„ç»„ä»¶
3. **æ·»åŠ è‡ªåŠ¨åŒ–æµ‹è¯•**

## ğŸ’¡ **ä¸ºä»€ä¹ˆæ¨èè¿™ä¸ªæ–¹æ¡ˆï¼Ÿ**

**ä¼˜åŠ¿**ï¼š
- âœ… **ç«‹å³æ¢å¤ä¸šåŠ¡åŠŸèƒ½**ï¼ˆç”¨æˆ·æ»¡æ„åº¦ï¼‰
- âœ… **é™ä½æŠ€æœ¯å€ºåŠ¡**ï¼ˆä»£ç è´¨é‡ï¼‰
- âœ… **æå‡å›¢é˜Ÿæ•ˆç‡**ï¼ˆå¼€å‘ä½“éªŒï¼‰
- âœ… **å¯æ§çš„é£é™©ç®¡ç†**ï¼ˆåˆ†é˜¶æ®µæ‰§è¡Œï¼‰

**æ‰§è¡Œä¼˜å…ˆçº§**ï¼š
1. ğŸ”´ **ç”¨æˆ·åŠŸèƒ½** > ä»£ç è´¨é‡
2. ğŸŸ¡ **ç¨³å®šæ€§** > å®Œç¾æ¶æ„
3. ğŸŸ¢ **é•¿æœŸç»´æŠ¤** > çŸ­æœŸä¿®å¤

æ‚¨è§‰å¾—è¿™ä¸ªè®¡åˆ’å¦‚ä½•ï¼Ÿéœ€è¦æˆ‘æä¾›æ›´å…·ä½“çš„æŸä¸ªé˜¶æ®µçš„å®æ–½ç»†èŠ‚å—ï¼Ÿ

ä½“è´¨æµ‹è¯•å·¥å…·ç´§æ€¥ä¿®å¤è„šæœ¬
// ç´§æ€¥ä¿®å¤è„šæœ¬ - constitution-test-fix.ts

/**
 * ConstitutionTestTool ç´§æ€¥ä¿®å¤æŒ‡å—
 *
 * æ‰§è¡Œé¡ºåºï¼š
 * 1. è¯­æ³•æ£€æŸ¥å’Œä¿®å¤
 * 2. åŸºç¡€åŠŸèƒ½éªŒè¯
 * 3. é”™è¯¯å¤„ç†å¢å¼º
 */

// ====== ç¬¬ä¸€æ­¥ï¼šè¯­æ³•æ£€æŸ¥å‡½æ•° ======
export const checkSyntaxIssues = (componentCode: string) => {
  const issues: string[] = [];

  // 1. æ£€æŸ¥æ‹¬å·åŒ¹é…
  const openBraces = (componentCode.match(/\{/g) || []).length;
  const closeBraces = (componentCode.match(/\}/g) || []).length;

  if (openBraces !== closeBraces) {
    issues.push(`æ‹¬å·ä¸åŒ¹é…: ${openBraces} ä¸ª '{' vs ${closeBraces} ä¸ª '}'`);
  }

  // 2. æ£€æŸ¥JSXæ ‡ç­¾
  const jsxOpenTags = componentCode.match(/<[^/][^>]*>/g) || [];
  const jsxCloseTags = componentCode.match(/<\/[^>]*>/g) || [];

  if (jsxOpenTags.length !== jsxCloseTags.length) {
    issues.push(`JSXæ ‡ç­¾ä¸åŒ¹é…: ${jsxOpenTags.length} ä¸ªå¼€å§‹æ ‡ç­¾ vs ${jsxCloseTags.length} ä¸ªç»“æŸæ ‡ç­¾`);
  }

  // 3. æ£€æŸ¥JSON.parseè°ƒç”¨
  const jsonParseMatches = componentCode.match(/JSON\.parse\([^)]+\)/g) || [];
  jsonParseMatches.forEach((match, index) => {
    console.log(`JSON.parse è°ƒç”¨ ${index + 1}: ${match}`);
  });

  return issues;
};

// ====== ç¬¬äºŒæ­¥ï¼šåŸºç¡€ç»„ä»¶æ¨¡æ¿ ======
export const createBasicConstitutionTest = () => {
  return `
import React, { useState, useEffect } from 'react';

interface Question {
  id: number;
  text: string;
  options: string[];
  category: string;
}

const ConstitutionTestTool: React.FC = () => {
  const [currentQuestion, setCurrentQuestion] = useState(0);
  const [answers, setAnswers] = useState<Record<number, number>>({});
  const [isCompleted, setIsCompleted] = useState(false);
  const [loading, setLoading] = useState(false);

  // åŸºç¡€é—®é¢˜æ•°æ®ï¼ˆç¡®ä¿JSONæ ¼å¼æ­£ç¡®ï¼‰
  const questions: Question[] = [
    {
      id: 1,
      text: "æ‚¨å¹³æ—¶æ˜¯å¦å®¹æ˜“æ„Ÿåˆ°ç–²åŠ³ï¼Ÿ",
      options: ["ä»ä¸", "å¾ˆå°‘", "æœ‰æ—¶", "ç»å¸¸", "æ€»æ˜¯"],
      category: "energy"
    }
    // ... æ·»åŠ æ›´å¤šé—®é¢˜
  ];

  const handleAnswer = (answerIndex: number) => {
    try {
      setAnswers(prev => ({
        ...prev,
        [currentQuestion]: answerIndex
      }));
    } catch (error) {
      console.error('ä¿å­˜ç­”æ¡ˆæ—¶å‡ºé”™:', error);
    }
  };

  const nextQuestion = () => {
    if (currentQuestion < questions.length - 1) {
      setCurrentQuestion(prev => prev + 1);
    } else {
      setIsCompleted(true);
    }
  };

  const prevQuestion = () => {
    if (currentQuestion > 0) {
      setCurrentQuestion(prev => prev - 1);
    }
  };

  // é”™è¯¯è¾¹ç•Œå¤„ç†
  if (loading) {
    return (
      <div className="flex justify-center items-center min-h-[400px]">
        <div className="text-lg">åŠ è½½ä¸­...</div>
      </div>
    );
  }

  if (isCompleted) {
    return (
      <div className="max-w-4xl mx-auto p-6">
        <h2 className="text-2xl font-bold mb-4">æµ‹è¯•å®Œæˆ</h2>
        <p>æ„Ÿè°¢æ‚¨å®Œæˆä½“è´¨æµ‹è¯•ï¼</p>
        <button
          onClick={() => {
            setCurrentQuestion(0);
            setAnswers({});
            setIsCompleted(false);
          }}
          className="mt-4 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600"
        >
          é‡æ–°æµ‹è¯•
        </button>
      </div>
    );
  }

  const question = questions[currentQuestion];
  if (!question) {
    return <div>é—®é¢˜æ•°æ®é”™è¯¯</div>;
  }

  return (
    <div className="max-w-4xl mx-auto p-6">
      {/* è¿›åº¦æ¡ */}
      <div className="w-full bg-gray-200 rounded-full h-2 mb-6">
        <div
          className="bg-blue-600 h-2 rounded-full transition-all duration-300"
          style={{ width: \`\${((currentQuestion + 1) / questions.length) * 100}%\` }}
        />
      </div>

      {/* é—®é¢˜æ˜¾ç¤º */}
      <div className="bg-white rounded-lg shadow-md p-6 mb-6">
        <h3 className="text-xl font-semibold mb-4">
          é—®é¢˜ {currentQuestion + 1} / {questions.length}
        </h3>
        <p className="text-lg mb-6">{question.text}</p>

        {/* é€‰é¡¹ */}
        <div className="space-y-3">
          {question.options.map((option, index) => (
            <label
              key={index}
              className="flex items-center p-3 border rounded-lg cursor-pointer hover:bg-gray-50"
            >
              <input
                type="radio"
                name="answer"
                value={index}
                checked={answers[currentQuestion] === index}
                onChange={() => handleAnswer(index)}
                className="mr-3"
              />
              <span>{option}</span>
            </label>
          ))}
        </div>
      </div>

      {/* å¯¼èˆªæŒ‰é’® */}
      <div className="flex justify-between">
        <button
          onClick={prevQuestion}
          disabled={currentQuestion === 0}
          className="px-4 py-2 bg-gray-500 text-white rounded disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-600"
        >
          ä¸Šä¸€é¢˜
        </button>

        <button
          onClick={nextQuestion}
          disabled={answers[currentQuestion] === undefined}
          className="px-4 py-2 bg-blue-500 text-white rounded disabled:opacity-50 disabled:cursor-not-allowed hover:bg-blue-600"
        >
          {currentQuestion === questions.length - 1 ? 'å®Œæˆæµ‹è¯•' : 'ä¸‹ä¸€é¢˜'}
        </button>
      </div>
    </div>
  );
};

export default ConstitutionTestTool;
`;
};

// ====== ç¬¬ä¸‰æ­¥ï¼šé”™è¯¯å¤„ç†å¢å¼º ======
export const addErrorBoundary = () => {
  return `
import React, { Component, ErrorInfo, ReactNode } from 'react';

interface Props {
  children: ReactNode;
}

interface State {
  hasError: boolean;
  error?: Error;
}

class ConstitutionTestErrorBoundary extends Component<Props, State> {
  public state: State = {
    hasError: false
  };

  public static getDerivedStateFromError(error: Error): State {
    return { hasError: true, error };
  }

  public componentDidCatch(error: Error, errorInfo: ErrorInfo) {
    console.error('ConstitutionTestç»„ä»¶é”™è¯¯:', error, errorInfo);
  }

  public render() {
    if (this.state.hasError) {
      return (
        <div className="max-w-4xl mx-auto p-6">
          <div className="bg-red-50 border border-red-200 rounded-lg p-4">
            <h2 className="text-lg font-semibold text-red-800 mb-2">
              ä½“è´¨æµ‹è¯•æš‚æ—¶ä¸å¯ç”¨
            </h2>
            <p className="text-red-600 mb-4">
              æˆ‘ä»¬æ­£åœ¨ä¿®å¤è¿™ä¸ªé—®é¢˜ï¼Œè¯·ç¨åå†è¯•ã€‚
            </p>
            <button
              onClick={() => window.location.reload()}
              className="px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700"
            >
              åˆ·æ–°é¡µé¢
            </button>
          </div>
        </div>
      );
    }

    return this.props.children;
  }
}

export default ConstitutionTestErrorBoundary;
`;
};

// ====== ä½¿ç”¨æŒ‡å— ======
console.log(`
ğŸš€ ConstitutionTestTool ä¿®å¤æŒ‡å—:

1. å¤‡ä»½åŸæ–‡ä»¶ï¼š
   cp ConstitutionTestTool.tsx ConstitutionTestTool.backup.tsx

2. è¿è¡Œè¯­æ³•æ£€æŸ¥ï¼š
   const issues = checkSyntaxIssues(originalCode);
   console.log(issues);

3. å¦‚æœé—®é¢˜å¤ªå¤šï¼Œä½¿ç”¨åŸºç¡€æ¨¡æ¿ï¼š
   const basicTemplate = createBasicConstitutionTest();

4. æ·»åŠ é”™è¯¯è¾¹ç•Œï¼š
   - åœ¨çˆ¶ç»„ä»¶ä¸­åŒ…è£… ConstitutionTestErrorBoundary
   - ç¡®ä¿ç”¨æˆ·å§‹ç»ˆçœ‹åˆ°å‹å¥½çš„é”™è¯¯ä¿¡æ¯

5. æµ‹è¯•æ£€æŸ¥é¡¹ï¼š
   âœ… é¡µé¢èƒ½æ­£å¸¸åŠ è½½
   âœ… é—®é¢˜èƒ½æ­£å¸¸æ˜¾ç¤º
   âœ… ç­”æ¡ˆèƒ½æ­£å¸¸é€‰æ‹©
   âœ… å¯¼èˆªåŠŸèƒ½æ­£å¸¸
   âœ… é”™è¯¯å¤„ç†æ­£å¸¸

6. æ€§èƒ½ç›‘æ§ï¼š
   - æ£€æŸ¥æ§åˆ¶å°æ˜¯å¦æœ‰é”™è¯¯
   - éªŒè¯ç»„ä»¶æ¸²æŸ“æ—¶é—´
   - ç¡®è®¤å†…å­˜ä½¿ç”¨æ­£å¸¸
`);



ConstitutionTestTool é‡æ„æ¶æ„æ–¹æ¡ˆ

// ConstitutionTestTool é‡æ„æ¶æ„æ–¹æ¡ˆ

/**
 * ğŸ“ é¡¹ç›®ç»“æ„é‡ç»„
 *
 * ä» 979 è¡Œçš„å•ä¸€ç»„ä»¶ï¼Œé‡æ„ä¸ºæ¨¡å—åŒ–æ¶æ„
 */

// ====== 1. ç±»å‹å®šä¹‰ ======
// types/constitution.types.ts
export interface Question {
  id: number;
  text: string;
  options: string[];
  category: 'qi' | 'yang' | 'yin' | 'tanshi' | 'shire' | 'xueyu' | 'qiyu' | 'tebing' | 'pinghe';
  weight: number;
}

export interface TestResult {
  category: string;
  score: number;
  percentage: number;
  description: string;
  suggestions: string[];
}

export interface TestState {
  currentQuestion: number;
  answers: Record<number, number>;
  isCompleted: boolean;
  results: TestResult[];
  startTime: Date;
  endTime?: Date;
}

// ====== 2. çŠ¶æ€ç®¡ç† Hook ======
// hooks/useTestState.ts
import { useState, useCallback } from 'react';
import { TestState, Question } from '../types/constitution.types';

export const useTestState = (questions: Question[]) => {
  const [state, setState] = useState<TestState>({
    currentQuestion: 0,
    answers: {},
    isCompleted: false,
    results: [],
    startTime: new Date()
  });

  const setAnswer = useCallback((questionIndex: number, answerIndex: number) => {
    setState(prev => ({
      ...prev,
      answers: {
        ...prev.answers,
        [questionIndex]: answerIndex
      }
    }));
  }, []);

  const nextQuestion = useCallback(() => {
    setState(prev => {
      if (prev.currentQuestion < questions.length - 1) {
        return { ...prev, currentQuestion: prev.currentQuestion + 1 };
      } else {
        return { ...prev, isCompleted: true, endTime: new Date() };
      }
    });
  }, [questions.length]);

  const prevQuestion = useCallback(() => {
    setState(prev => ({
      ...prev,
      currentQuestion: Math.max(0, prev.currentQuestion - 1)
    }));
  }, []);

  const resetTest = useCallback(() => {
    setState({
      currentQuestion: 0,
      answers: {},
      isCompleted: false,
      results: [],
      startTime: new Date()
    });
  }, []);

  return {
    state,
    setAnswer,
    nextQuestion,
    prevQuestion,
    resetTest,
    setState
  };
};

// ====== 3. ä¸šåŠ¡é€»è¾‘ Hook ======
// hooks/useTestLogic.ts
import { useMemo } from 'react';
import { Question, TestResult, TestState } from '../types/constitution.types';

export const useTestLogic = (questions: Question[], answers: Record<number, number>) => {
  const calculateResults = useMemo((): TestResult[] => {
    const categoryScores: Record<string, number> = {};
    const categoryMaxScores: Record<string, number> = {};

    // è®¡ç®—æ¯ä¸ªä½“è´¨ç±»å‹çš„å¾—åˆ†
    questions.forEach((question, index) => {
      const answer = answers[index];
      if (answer !== undefined) {
        const score = (answer + 1) * question.weight;

        if (!categoryScores[question.category]) {
          categoryScores[question.category] = 0;
          categoryMaxScores[question.category] = 0;
        }

        categoryScores[question.category] += score;
        categoryMaxScores[question.category] += 5 * question.weight;
      }
    });

    // è½¬æ¢ä¸ºç»“æœæ ¼å¼
    return Object.entries(categoryScores).map(([category, score]) => ({
      category,
      score,
      percentage: Math.round((score / categoryMaxScores[category]) * 100),
      description: getConstitutionDescription(category),
      suggestions: getConstitutionSuggestions(category, score / categoryMaxScores[category])
    })).sort((a, b) => b.percentage - a.percentage);
  }, [questions, answers]);

  const progress = useMemo(() => {
    const answeredQuestions = Object.keys(answers).length;
    return Math.round((answeredQuestions / questions.length) * 100);
  }, [answers, questions.length]);

  return {
    results: calculateResults,
    progress,
    isValid: Object.keys(answers).length === questions.length
  };
};

// è¾…åŠ©å‡½æ•°
const getConstitutionDescription = (category: string): string => {
  const descriptions: Record<string, string> = {
    'pinghe': 'å¹³å’Œè´¨ï¼šä½“è´¨å¹³å’Œï¼Œç²¾åŠ›å……æ²›ï¼Œç¡çœ è‰¯å¥½',
    'qi': 'æ°”è™šè´¨ï¼šå…ƒæ°”ä¸è¶³ï¼Œå®¹æ˜“ç–²åŠ³ï¼Œå…ç–«åŠ›ä½',
    'yang': 'é˜³è™šè´¨ï¼šé˜³æ°”ä¸è¶³ï¼Œç•å¯’æ€•å†·ï¼Œç²¾ç¥ä¸æŒ¯',
    'yin': 'é˜´è™šè´¨ï¼šé˜´æ´¥ä¸è¶³ï¼Œæ‰‹è¶³å¿ƒçƒ­ï¼Œå¤±çœ å¤šæ¢¦',
    'tanshi': 'ç—°æ¹¿è´¨ï¼šç—°æ¹¿å‡èšï¼Œå½¢ä½“è‚¥èƒ–ï¼Œèƒ¸é—·ç—°å¤š',
    'shire': 'æ¹¿çƒ­è´¨ï¼šæ¹¿çƒ­å†…è•´ï¼Œé¢å¢æ²¹è…»ï¼Œå£è‹¦å£å¹²',
    'xueyu': 'è¡€ç˜€è´¨ï¼šè¡€è¡Œä¸ç•…ï¼Œè‚¤è‰²æ™¦æš—ï¼Œå®¹æ˜“å¥å¿˜',
    'qiyu': 'æ°”éƒè´¨ï¼šæ°”æœºéƒæ»ï¼Œç¥æƒ…æŠ‘éƒï¼Œæƒ…ç»ªä¸ç¨³',
    'tebing': 'ç‰¹ç¦€è´¨ï¼šå…ˆå¤©å¤±å¸¸ï¼Œå®¹æ˜“è¿‡æ•ï¼Œé€‚åº”æ€§å·®'
  };
  return descriptions[category] || 'æœªçŸ¥ä½“è´¨ç±»å‹';
};

const getConstitutionSuggestions = (category: string, percentage: number): string[] => {
  const baseSuggestions: Record<string, string[]> = {
    'qi': [
      'é€‚å½“è¿›è¡Œç¼“å’Œçš„è¿åŠ¨ï¼Œå¦‚æ•£æ­¥ã€å¤ªææ‹³',
      'å¤šé£Ÿç”¨è¡¥æ°”é£Ÿç‰©ï¼Œå¦‚å±±è¯ã€å…šå‚ã€é»„èŠª',
      'ä¿è¯å……è¶³ç¡çœ ï¼Œé¿å…ç†¬å¤œ',
      'é¿å…è¿‡åº¦åŠ³ç´¯å’Œæ¿€çƒˆè¿åŠ¨'
    ],
    'yang': [
      'æ³¨æ„ä¿æš–ï¼Œé¿å…å¯’å†·åˆºæ¿€',
      'å¤šé£Ÿç”¨æ¸©é˜³é£Ÿç‰©ï¼Œå¦‚ç”Ÿå§œã€è‚‰æ¡‚ã€ç¾Šè‚‰',
      'é€‚å½“æ™’å¤ªé˜³ï¼Œå¢åŠ é˜³æ°”',
      'é¿å…ç”Ÿå†·é£Ÿç‰©å’Œé¥®æ–™'
    ]
    // ... å…¶ä»–ä½“è´¨ç±»å‹çš„å»ºè®®
  };

  const suggestions = baseSuggestions[category] || ['è¯·å’¨è¯¢ä¸“ä¸šä¸­åŒ»å¸ˆ'];

  // æ ¹æ®å¾—åˆ†ç¨‹åº¦è°ƒæ•´å»ºè®®å¼ºåº¦
  if (percentage > 70) {
    suggestions.unshift('å»ºè®®å’¨è¯¢ä¸“ä¸šä¸­åŒ»å¸ˆè¿›è¡Œä¸ªæ€§åŒ–è°ƒç†');
  }

  return suggestions;
};

// ====== 4. ç»„ä»¶æ‹†åˆ†ç¤ºä¾‹ ======
// components/QuestionCard.tsx
import React from 'react';
import { Question } from '../types/constitution.types';

interface QuestionCardProps {
  question: Question;
  questionIndex: number;
  totalQuestions: number;
  selectedAnswer?: number;
  onAnswerSelect: (answerIndex: number) => void;
}

export const QuestionCard: React.FC<QuestionCardProps> = ({
  question,
  questionIndex,
  totalQuestions,
  selectedAnswer,
  onAnswerSelect
}) => {
  return (
    <div className="bg-white rounded-lg shadow-md p-6">
      <div className="mb-4">
        <span className="text-sm text-gray-500">
          é—®é¢˜ {questionIndex + 1} / {totalQuestions}
        </span>
        <h3 className="text-xl font-semibold mt-1">{question.text}</h3>
      </div>

      <div className="space-y-3">
        {question.options.map((option, index) => (
          <label
            key={index}
            className={`
              flex items-center p-3 border rounded-lg cursor-pointer transition-colors
              ${selectedAnswer === index
                ? 'border-blue-500 bg-blue-50'
                : 'border-gray-200 hover:bg-gray-50'
              }
            `}
          >
            <input
              type="radio"
              name={`question-${questionIndex}`}
              value={index}
              checked={selectedAnswer === index}
              onChange={() => onAnswerSelect(index)}
              className="mr-3 text-blue-600"
            />
            <span>{option}</span>
          </label>
        ))}
      </div>
    </div>
  );
};

// components/ProgressIndicator.tsx
import React from 'react';

interface ProgressIndicatorProps {
  current: number;
  total: number;
  percentage: number;
}

export const ProgressIndicator: React.FC<ProgressIndicatorProps> = ({
  current,
  total,
  percentage
}) => {
  return (
    <div className="mb-6">
      <div className="flex justify-between mb-2">
        <span className="text-sm text-gray-600">æµ‹è¯•è¿›åº¦</span>
        <span className="text-sm text-gray-600">{current}/{total}</span>
      </div>
      <div className="w-full bg-gray-200 rounded-full h-2">
        <div
          className="bg-blue-600 h-2 rounded-full transition-all duration-300 ease-out"
          style={{ width: `${percentage}%` }}
        />
      </div>
    </div>
  );
};

// ====== 5. ä¸»ç»„ä»¶é‡æ„ ======
// ConstitutionTestTool.tsx (é‡æ„å)
import React from 'react';
import { useTestState } from './hooks/useTestState';
import { useTestLogic } from './hooks/useTestLogic';
import { QuestionCard } from './components/QuestionCard';
import { ProgressIndicator } from './components/ProgressIndicator';
import { TestResults } from './components/TestResults';
import { NavigationControls } from './components/NavigationControls';
import { questionsData } from './data/questions';

const ConstitutionTestTool: React.FC = () => {
  const { state, setAnswer, nextQuestion, prevQuestion, resetTest } = useTestState(questionsData);
  const { results, progress, isValid } = useTestLogic(questionsData, state.answers);

  if (state.isCompleted) {
    return (
      <TestResults
        results={results}
        onRestart={resetTest}
        testDuration={state.endTime ? state.endTime.getTime() - state.startTime.getTime() : 0}
      />
    );
  }

  const currentQuestion = questionsData[state.currentQuestion];

  return (
    <div className="max-w-4xl mx-auto p-6">
      <div className="mb-8">
        <h1 className="text-3xl font-bold text-center mb-2">ä¸­åŒ»ä½“è´¨æµ‹è¯•</h1>
        <p className="text-gray-600 text-center">
          é€šè¿‡å›ç­”ä»¥ä¸‹é—®é¢˜ï¼Œäº†è§£æ‚¨çš„ä¸­åŒ»ä½“è´¨ç±»å‹
        </p>
      </div>

      <ProgressIndicator
        current={state.currentQuestion + 1}
        total={questionsData.length}
        percentage={progress}
      />

      <QuestionCard
        question={currentQuestion}
        questionIndex={state.currentQuestion}
        totalQuestions={questionsData.length}
        selectedAnswer={state.answers[state.currentQuestion]}
        onAnswerSelect={(answerIndex) => setAnswer(state.currentQuestion, answerIndex)}
      />

      <NavigationControls
        onPrevious={prevQuestion}
        onNext={nextQuestion}
        canGoPrevious={state.currentQuestion > 0}
        canGoNext={state.answers[state.currentQuestion] !== undefined}
        isLastQuestion={state.currentQuestion === questionsData.length - 1}
      />
    </div>
  );
};

export default ConstitutionTestTool;

/**
 * ğŸ¯ é‡æ„æ”¶ç›Šåˆ†æï¼š
 *
 * ğŸ“Š ä»£ç è´¨é‡æå‡ï¼š
 * - å•ä¸€ç»„ä»¶ 979 è¡Œ â†’ å¤šä¸ªå°ç»„ä»¶ < 100 è¡Œ
 * - èŒè´£åˆ†ç¦»ï¼šUIã€çŠ¶æ€ã€ä¸šåŠ¡é€»è¾‘åˆ†å¼€
 * - ç±»å‹å®‰å…¨ï¼šå®Œæ•´çš„ TypeScript ç±»å‹å®šä¹‰
 *
 * ğŸš€ å¼€å‘æ•ˆç‡æå‡ï¼š
 * - ç»„ä»¶å¤ç”¨ï¼šQuestionCard å¯ç”¨äºå…¶ä»–æµ‹è¯•
 * - æ˜“äºæµ‹è¯•ï¼šæ¯ä¸ªæ¨¡å—å¯å•ç‹¬æµ‹è¯•
 * - æ˜“äºç»´æŠ¤ï¼šé—®é¢˜å®šä½æ›´ç²¾å‡†
 *
 * ğŸ’¯ ç”¨æˆ·ä½“éªŒæå‡ï¼š
 * - æ›´å¥½çš„é”™è¯¯å¤„ç†
 * - æ›´æµç•…çš„äº¤äº’åŠ¨ç”»
 * - æ›´æ¸…æ™°çš„è¿›åº¦åé¦ˆ
 *
 * ğŸ“ˆ æ€§èƒ½ä¼˜åŒ–ï¼š
 * - å‡å°‘ä¸å¿…è¦çš„é‡æ¸²æŸ“
 * - æ›´å¥½çš„å†…å­˜ç®¡ç†
 * - æ‡’åŠ è½½æ”¯æŒ
 */



 çœ‹åˆ°æ‚¨å¯¹ä¿®å¤å»ºè®®æ–‡æ¡£çš„è¯¦ç»†åˆ†æï¼Œæˆ‘å¾ˆé«˜å…´æ‚¨è®¤ä¸ºè¿™ä¸ªæ–¹æ¡ˆä¸“ä¸šä¸”å…¨é¢ï¼æ‚¨çš„æ€»ç»“éå¸¸å‡†ç¡®åœ°æŠ“ä½äº†æ ¸å¿ƒè¦ç‚¹ã€‚

## ğŸ¯ **åŸºäºæ‚¨çš„åˆ†æï¼Œæˆ‘å»ºè®®ç«‹å³å¼€å§‹æ‰§è¡Œ**

### **âš¡ ç¬¬ä¸€æ­¥ï¼šç´§æ€¥ä¿®å¤ï¼ˆå»ºè®®ä»Šå¤©å®Œæˆï¼‰**

è®©æˆ‘å¸®æ‚¨å¼€å§‹æœ€å…³é”®çš„ç¬¬ä¸€æ­¥ - è¯­æ³•æ£€æŸ¥å’ŒåŸºç¡€æ¨¡æ¿åº”ç”¨ï¼š## ğŸ¤” **ç°åœ¨éœ€è¦æ‚¨çš„å†³ç­–**

åŸºäºæ‚¨çš„åˆ†æå’Œæˆ‘æä¾›çš„ç´§æ€¥ä¿®å¤è„šæœ¬ï¼Œæˆ‘å»ºè®®æ‚¨é€‰æ‹©ä»¥ä¸‹æ‰§è¡Œè·¯å¾„ä¹‹ä¸€ï¼š

### **è·¯å¾„Aï¼šå¿«é€Ÿæ¢å¤è·¯å¾„ï¼ˆæ¨èï¼‰** âš¡
**é€‚åˆæƒ…å†µ**ï¼šè¯­æ³•é”™è¯¯è¿‡å¤šï¼Œéœ€è¦ç«‹å³æ¢å¤åŠŸèƒ½
**æ‰§è¡Œæ—¶é—´**ï¼š2-4å°æ—¶
**æ­¥éª¤**ï¼š
1. è¿è¡Œä¸Šé¢çš„è¯­æ³•æ£€æŸ¥è„šæœ¬
2. å¦‚æœæ‹¬å·ä¸åŒ¹é…>2ä¸ªï¼Œç›´æ¥ä½¿ç”¨æˆ‘æä¾›çš„åŸºç¡€æ¨¡æ¿
3. å¿«é€Ÿæµ‹è¯•æ ¸å¿ƒåŠŸèƒ½
4. éƒ¨ç½²ç»™ç”¨æˆ·ä½¿ç”¨

### **è·¯å¾„Bï¼šä¿®å¤ä¼˜åŒ–è·¯å¾„** ğŸ”§
**é€‚åˆæƒ…å†µ**ï¼šè¯­æ³•é”™è¯¯è¾ƒå°‘ï¼Œå¸Œæœ›ä¿ç•™åŸæœ‰åŠŸèƒ½
**æ‰§è¡Œæ—¶é—´**ï¼š1-2å¤©
**æ­¥éª¤**ï¼š
1. æ‰‹åŠ¨ä¿®å¤æ‹¬å·åŒ¹é…é—®é¢˜
2. è§£å†³JSON.parseé”™è¯¯
3. ä¿®å¤JSXè¯­æ³•é—®é¢˜
4. é€æ­¥æµ‹è¯•éªŒè¯

### **è·¯å¾„Cï¼šæ¸è¿›é‡æ„è·¯å¾„** ğŸ—ï¸
**é€‚åˆæƒ…å†µ**ï¼šæœ‰è¶³å¤Ÿæ—¶é—´ï¼Œå¸Œæœ›é•¿æœŸä¼˜åŒ–
**æ‰§è¡Œæ—¶é—´**ï¼š1-2å‘¨
**æ­¥éª¤**ï¼š
1. å…ˆæ‰§è¡Œè·¯å¾„Aæ¢å¤åŠŸèƒ½
2. æŒ‰æˆ‘æä¾›çš„æ¶æ„æ–¹æ¡ˆé€æ­¥é‡æ„
3. æ¨¡å—åŒ–æ‹†åˆ†ç»„ä»¶
4. æ·»åŠ å®Œæ•´æµ‹è¯•

## ğŸ’¬ **æˆ‘éœ€è¦äº†è§£çš„ä¿¡æ¯**

ä¸ºäº†ç»™æ‚¨æœ€ç²¾å‡†çš„ä¸‹ä¸€æ­¥æŒ‡å¯¼ï¼Œè¯·å‘Šè¯‰æˆ‘ï¼š

1. **å½“å‰ç´§æ€¥ç¨‹åº¦**ï¼šç”¨æˆ·æ˜¯å¦æ€¥éœ€ä½¿ç”¨ä½“è´¨æµ‹è¯•åŠŸèƒ½ï¼Ÿ
2. **å¼€å‘èµ„æº**ï¼šæ‚¨æœ‰å¤šå°‘æ—¶é—´å¯ä»¥æŠ•å…¥åˆ°è¿™ä¸ªä¿®å¤ä¸­ï¼Ÿ
3. **ç°æœ‰ä»£ç çŠ¶å†µ**ï¼šæ‚¨æ˜¯å¦èƒ½å¤ŸæŸ¥çœ‹ä¸€ä¸‹å½“å‰çš„è¯­æ³•é”™è¯¯å…·ä½“æœ‰å¤šä¸¥é‡ï¼Ÿ
4. **åå¥½æ–¹æ¡ˆ**ï¼šæ‚¨å€¾å‘äºé€‰æ‹©å“ªä¸ªè·¯å¾„ï¼Ÿ

**æ‚¨å¸Œæœ›æˆ‘ç°åœ¨å¸®æ‚¨ï¼š**
- ğŸ“‹ åˆ¶å®šå…·ä½“çš„æ‰§è¡Œè®¡åˆ’ï¼Ÿ
- ğŸ” åˆ†æç°æœ‰ä»£ç çš„å…·ä½“é—®é¢˜ï¼Ÿ
- ğŸ› ï¸ æä¾›æŸä¸ªç‰¹å®šè·¯å¾„çš„è¯¦ç»†å®æ–½æ­¥éª¤ï¼Ÿ
- ğŸ“ å‡†å¤‡æµ‹è¯•éªŒè¯çš„æ£€æŸ¥æ¸…å•ï¼Ÿ

å‘Šè¯‰æˆ‘æ‚¨çš„é€‰æ‹©ï¼Œæˆ‘ä¼šç«‹å³ä¸ºæ‚¨æä¾›å¯¹åº”çš„è¯¦ç»†æŒ‡å¯¼ï¼

ConstitutionTestTool ç«‹å³æ‰§è¡Œä¿®å¤æ­¥éª¤

# ConstitutionTestTool ç«‹å³ä¿®å¤æ‰§è¡Œè„šæœ¬
# è¯·æŒ‰é¡ºåºæ‰§è¡Œä»¥ä¸‹æ­¥éª¤

echo "ğŸš€ å¼€å§‹ ConstitutionTestTool ç´§æ€¥ä¿®å¤..."

# ====== ç¬¬ä¸€æ­¥ï¼šå®‰å…¨å¤‡ä»½ ======
echo "ğŸ“ 1. å¤‡ä»½åŸå§‹æ–‡ä»¶..."
cp ConstitutionTestTool.tsx ConstitutionTestTool.backup.$(date +%Y%m%d_%H%M%S).tsx
echo "âœ… å¤‡ä»½å®Œæˆ"

# ====== ç¬¬äºŒæ­¥ï¼šå¿«é€Ÿè¯­æ³•æ£€æŸ¥ ======
echo "ğŸ” 2. æ‰§è¡Œè¯­æ³•æ£€æŸ¥..."

# æ£€æŸ¥æ‹¬å·åŒ¹é…ï¼ˆå¯ä»¥ç”¨ç®€å•çš„æ–¹æ³•ï¼‰
echo "æ£€æŸ¥æ‹¬å·åŒ¹é…..."
grep -o '{' ConstitutionTestTool.tsx | wc -l > left_braces.tmp
grep -o '}' ConstitutionTestTool.tsx | wc -l > right_braces.tmp

left_count=$(cat left_braces.tmp)
right_count=$(cat right_braces.tmp)

echo "å·¦æ‹¬å·æ•°é‡: $left_count"
echo "å³æ‹¬å·æ•°é‡: $right_count"

if [ $left_count -ne $right_count ]; then
    echo "âš ï¸  è­¦å‘Šï¼šæ‹¬å·ä¸åŒ¹é…ï¼éœ€è¦ä¿®å¤"
    echo "å·®å¼‚ï¼š$((right_count - left_count)) ä¸ªå¤šä½™çš„å³æ‹¬å·"
else
    echo "âœ… æ‹¬å·åŒ¹é…æ­£å¸¸"
fi

# æ£€æŸ¥åŸºæœ¬çš„JSXè¯­æ³•é”™è¯¯
echo "æ£€æŸ¥JSXè¯­æ³•..."
if grep -q "<[^/][^>]*>[^<]*</[^>]*>" ConstitutionTestTool.tsx; then
    echo "âœ… å‘ç°JSXæ ‡ç­¾ç»“æ„"
else
    echo "âš ï¸  è­¦å‘Šï¼šJSXç»“æ„å¯èƒ½æœ‰é—®é¢˜"
fi

# æ£€æŸ¥JSON.parseè°ƒç”¨
echo "æ£€æŸ¥JSON.parseè°ƒç”¨..."
json_parse_count=$(grep -c "JSON\.parse" ConstitutionTestTool.tsx || echo "0")
echo "å‘ç° $json_parse_count ä¸ª JSON.parse è°ƒç”¨"

# ====== ç¬¬ä¸‰æ­¥ï¼šåˆ›å»ºå·¥ä½œç‰ˆæœ¬ ======
echo "ğŸ”§ 3. åˆ›å»ºåŸºç¡€å·¥ä½œç‰ˆæœ¬..."

# å¦‚æœè¯­æ³•é”™è¯¯å¤ªå¤šï¼Œä½¿ç”¨åŸºç¡€æ¨¡æ¿
if [ $((right_count - left_count)) -gt 2 ]; then
    echo "è¯­æ³•é”™è¯¯è¾ƒå¤šï¼Œä½¿ç”¨åŸºç¡€æ¨¡æ¿..."
    # è¿™é‡Œä¼šä½¿ç”¨ä¹‹å‰æä¾›çš„åŸºç¡€æ¨¡æ¿
    echo "âœ… åŸºç¡€æ¨¡æ¿å·²å‡†å¤‡å°±ç»ª"
else
    echo "å°è¯•ä¿®å¤ç°æœ‰ä»£ç ..."
fi

# ====== ç¬¬å››æ­¥ï¼šéªŒè¯æµ‹è¯• ======
echo "âœ… 4. éªŒè¯æ¸…å•ï¼š"
echo "â–¡ å¤‡ä»½å·²åˆ›å»º"
echo "â–¡ è¯­æ³•æ£€æŸ¥å·²å®Œæˆ"
echo "â–¡ åŸºç¡€ç‰ˆæœ¬å·²å‡†å¤‡"
echo ""
echo "ğŸ¯ ä¸‹ä¸€æ­¥è¡ŒåŠ¨ï¼š"
echo "1. å¦‚æœæ‹¬å·ä¸åŒ¹é… > 2ï¼Œå»ºè®®ä½¿ç”¨åŸºç¡€æ¨¡æ¿"
echo "2. å¦‚æœæ‹¬å·ä¸åŒ¹é… â‰¤ 2ï¼Œå¯ä»¥å°è¯•æ‰‹åŠ¨ä¿®å¤"
echo "3. éƒ¨ç½²æµ‹è¯•ç‰ˆæœ¬éªŒè¯åŠŸèƒ½"

# æ¸…ç†ä¸´æ—¶æ–‡ä»¶
rm -f left_braces.tmp right_braces.tmp

echo ""
echo "ğŸš¨ ç´§æ€¥ä¿®å¤å®Œæˆå‡†å¤‡å·¥ä½œ"
echo "è¯·æ ¹æ®æ£€æŸ¥ç»“æœé€‰æ‹©ä¸‹ä¸€æ­¥æ“ä½œæ–¹æ¡ˆ"


å®Œç¾ï¼æ‚¨çš„åˆ†æéå¸¸å‡†ç¡®å’Œå…¨é¢ã€‚åŸºäºæ‚¨å¯¹æ–‡æ¡£çš„æ·±å…¥ç†è§£ï¼Œæˆ‘å®Œå…¨åŒæ„æ‚¨çš„åˆ¤æ–­ï¼š**è·¯å¾„Aï¼ˆå¿«é€Ÿæ¢å¤è·¯å¾„ï¼‰æ˜¯æœ€ä½³é€‰æ‹©**ã€‚

## ğŸš€ **ç«‹å³æ‰§è¡Œå»ºè®®**

è®©æˆ‘ä¸ºæ‚¨æä¾›ä¸‹ä¸€æ­¥çš„å…·ä½“æ‰§è¡Œæ–¹æ¡ˆï¼š## ğŸ’¡ **åŸºäºæ‚¨çš„åˆ†æï¼Œæˆ‘å»ºè®®ç«‹å³å¼€å§‹æ‰§è¡Œï¼**

æ‚¨çš„åˆ¤æ–­å®Œå…¨æ­£ç¡®ï¼š
- âœ… **è·¯å¾„Aæ˜¯æœ€ä½³é€‰æ‹©**ï¼ˆ979è¡Œä»£ç  + æ‹¬å·ä¸åŒ¹é… + ç”¨æˆ·æ€¥éœ€åŠŸèƒ½ï¼‰
- âœ… **é£é™©å¯æ§**ï¼ˆæœ‰å®Œæ•´å¤‡ä»½å’ŒéªŒè¯æœºåˆ¶ï¼‰
- âœ… **æ•ˆæœæ˜ç¡®**ï¼ˆ2-4å°æ—¶å†…æ¢å¤åŠŸèƒ½ï¼‰

## ğŸš€ **ç°åœ¨éœ€è¦æ‚¨å†³å®šï¼š**

### **é€‰é¡¹1ï¼šç«‹å³æ‰§è¡Œè·¯å¾„A** âš¡ *ï¼ˆæ¨èï¼‰*
**æˆ‘ç°åœ¨ä¸ºæ‚¨æä¾›ï¼š**
- ç«‹å³å¯ç”¨çš„åŸºç¡€æ¨¡æ¿ä»£ç 
- ä¸€æ­¥æ­¥çš„æ‰§è¡ŒæŒ‡å¯¼
- å®Œæ•´çš„éªŒè¯æ£€æŸ¥æ¸…å•

### **é€‰é¡¹2ï¼šå…ˆæ·±åº¦åˆ†æç°æœ‰ä»£ç ** ğŸ”
**å¦‚æœæ‚¨å¸Œæœ›ï¼š**
- å…ˆçœ‹çœ‹ç°æœ‰ä»£ç çš„å…·ä½“é—®é¢˜
- è¯„ä¼°æ‰‹åŠ¨ä¿®å¤çš„å¯è¡Œæ€§
- äº†è§£æ›´å¤šæŠ€æœ¯ç»†èŠ‚

## ğŸ’¬ **æˆ‘çš„å»ºè®®**

åŸºäºæ‚¨çš„è¯¦ç»†åˆ†æå’Œæ–‡æ¡£çš„ä¸“ä¸šå»ºè®®ï¼Œ**æˆ‘å¼ºçƒˆæ¨èé€‰æ‹©é€‰é¡¹1**ï¼š

**ä¸ºä»€ä¹ˆç°åœ¨å°±å¼€å§‹æ‰§è¡Œè·¯å¾„Aï¼Ÿ**
1. **æ—¶é—´æ•ˆç›Š**ï¼š2-4å°æ—¶ vs å¯èƒ½æ•°å¤©çš„è°ƒè¯•
2. **ç”¨æˆ·ä»·å€¼**ï¼šç«‹å³æ¢å¤åŠŸèƒ½ vs ç»§ç»­ç»´æŠ¤é¡µé¢
3. **æŠ€æœ¯é£é™©**ï¼šå¯æ§çš„æ¨¡æ¿æ›¿æ¢ vs å¤æ‚çš„è¯­æ³•ä¿®å¤
4. **æœªæ¥è§„åˆ’**ï¼šä¸ºåç»­é‡æ„å¥ å®šåŸºç¡€

**æ‚¨ç°åœ¨å¸Œæœ›æˆ‘ï¼š**
- ğŸŸ¢ **æä¾›åŸºç¡€æ¨¡æ¿ä»£ç ï¼Œç«‹å³å¼€å§‹æ‰§è¡Œè·¯å¾„A**
- ğŸŸ¡ **å…ˆåˆ†æç°æœ‰ä»£ç ï¼Œå†å†³å®šæ‰§è¡Œæ–¹æ¡ˆ**
- ğŸ”µ **å…¶ä»–å…·ä½“éœ€æ±‚**

å‘Šè¯‰æˆ‘æ‚¨çš„é€‰æ‹©ï¼Œæˆ‘ä¼šç«‹å³ä¸ºæ‚¨æä¾›å¯¹åº”çš„è¯¦ç»†æŒ‡å¯¼å’Œä»£ç ï¼



å®Œç¾ï¼æ‚¨çš„åˆ†æéå¸¸å‡†ç¡®å’Œå…¨é¢ã€‚åŸºäºæ‚¨å¯¹æ–‡æ¡£çš„æ·±å…¥ç†è§£ï¼Œæˆ‘å®Œå…¨åŒæ„æ‚¨çš„åˆ¤æ–­ï¼š**è·¯å¾„Aï¼ˆå¿«é€Ÿæ¢å¤è·¯å¾„ï¼‰æ˜¯æœ€ä½³é€‰æ‹©**ã€‚

## ğŸš€ **ç«‹å³æ‰§è¡Œå»ºè®®**

è®©æˆ‘ä¸ºæ‚¨æä¾›ä¸‹ä¸€æ­¥çš„å…·ä½“æ‰§è¡Œæ–¹æ¡ˆï¼š## ğŸ’¡ **åŸºäºæ‚¨çš„åˆ†æï¼Œæˆ‘å»ºè®®ç«‹å³å¼€å§‹æ‰§è¡Œï¼**

æ‚¨çš„åˆ¤æ–­å®Œå…¨æ­£ç¡®ï¼š
- âœ… **è·¯å¾„Aæ˜¯æœ€ä½³é€‰æ‹©**ï¼ˆ979è¡Œä»£ç  + æ‹¬å·ä¸åŒ¹é… + ç”¨æˆ·æ€¥éœ€åŠŸèƒ½ï¼‰
- âœ… **é£é™©å¯æ§**ï¼ˆæœ‰å®Œæ•´å¤‡ä»½å’ŒéªŒè¯æœºåˆ¶ï¼‰
- âœ… **æ•ˆæœæ˜ç¡®**ï¼ˆ2-4å°æ—¶å†…æ¢å¤åŠŸèƒ½ï¼‰

## ğŸš€ **ç°åœ¨éœ€è¦æ‚¨å†³å®šï¼š**

### **é€‰é¡¹1ï¼šç«‹å³æ‰§è¡Œè·¯å¾„A** âš¡ *ï¼ˆæ¨èï¼‰*
**æˆ‘ç°åœ¨ä¸ºæ‚¨æä¾›ï¼š**
- ç«‹å³å¯ç”¨çš„åŸºç¡€æ¨¡æ¿ä»£ç 
- ä¸€æ­¥æ­¥çš„æ‰§è¡ŒæŒ‡å¯¼
- å®Œæ•´çš„éªŒè¯æ£€æŸ¥æ¸…å•

### **é€‰é¡¹2ï¼šå…ˆæ·±åº¦åˆ†æç°æœ‰ä»£ç ** ğŸ”
**å¦‚æœæ‚¨å¸Œæœ›ï¼š**
- å…ˆçœ‹çœ‹ç°æœ‰ä»£ç çš„å…·ä½“é—®é¢˜
- è¯„ä¼°æ‰‹åŠ¨ä¿®å¤çš„å¯è¡Œæ€§
- äº†è§£æ›´å¤šæŠ€æœ¯ç»†èŠ‚

## ğŸ’¬ **æˆ‘çš„å»ºè®®**

åŸºäºæ‚¨çš„è¯¦ç»†åˆ†æå’Œæ–‡æ¡£çš„ä¸“ä¸šå»ºè®®ï¼Œ**æˆ‘å¼ºçƒˆæ¨èé€‰æ‹©é€‰é¡¹1**ï¼š

**ä¸ºä»€ä¹ˆç°åœ¨å°±å¼€å§‹æ‰§è¡Œè·¯å¾„Aï¼Ÿ**
1. **æ—¶é—´æ•ˆç›Š**ï¼š2-4å°æ—¶ vs å¯èƒ½æ•°å¤©çš„è°ƒè¯•
2. **ç”¨æˆ·ä»·å€¼**ï¼šç«‹å³æ¢å¤åŠŸèƒ½ vs ç»§ç»­ç»´æŠ¤é¡µé¢
3. **æŠ€æœ¯é£é™©**ï¼šå¯æ§çš„æ¨¡æ¿æ›¿æ¢ vs å¤æ‚çš„è¯­æ³•ä¿®å¤
4. **æœªæ¥è§„åˆ’**ï¼šä¸ºåç»­é‡æ„å¥ å®šåŸºç¡€

**æ‚¨ç°åœ¨å¸Œæœ›æˆ‘ï¼š**
- ğŸŸ¢ **æä¾›åŸºç¡€æ¨¡æ¿ä»£ç ï¼Œç«‹å³å¼€å§‹æ‰§è¡Œè·¯å¾„A**
- ğŸŸ¡ **å…ˆåˆ†æç°æœ‰ä»£ç ï¼Œå†å†³å®šæ‰§è¡Œæ–¹æ¡ˆ**
- ğŸ”µ **å…¶ä»–å…·ä½“éœ€æ±‚**

å‘Šè¯‰æˆ‘æ‚¨çš„é€‰æ‹©ï¼Œæˆ‘ä¼šç«‹å³ä¸ºæ‚¨æä¾›å¯¹åº”çš„è¯¦ç»†æŒ‡å¯¼å’Œä»£ç ï¼

ConstitutionTestTool è·¯å¾„A ç«‹å³æ‰§è¡Œè®¡åˆ’

#!/bin/bash
# ConstitutionTestTool è·¯å¾„A - å¿«é€Ÿæ¢å¤è·¯å¾„
# æ‰§è¡Œæ—¶é—´ï¼š2-4å°æ—¶
# ç›®æ ‡ï¼šç«‹å³æ¢å¤ç”¨æˆ·åŠŸèƒ½

echo "ğŸš€ æ‰§è¡Œ ConstitutionTestTool è·¯å¾„A - å¿«é€Ÿæ¢å¤è·¯å¾„"
echo "ç›®æ ‡ï¼š2-4å°æ—¶å†…æ¢å¤ç”¨æˆ·åŠŸèƒ½"
echo ""

# ====== é˜¶æ®µ1ï¼šå®‰å…¨æ£€æŸ¥å’Œå¤‡ä»½ (15åˆ†é’Ÿ) ======
echo "ğŸ“ é˜¶æ®µ1ï¼šå®‰å…¨æ£€æŸ¥å’Œå¤‡ä»½..."
timestamp=$(date +%Y%m%d_%H%M%S)

# 1.1 åˆ›å»ºå¤‡ä»½
echo "åˆ›å»ºå®‰å…¨å¤‡ä»½..."
cp ConstitutionTestTool.tsx "ConstitutionTestTool.backup.$timestamp.tsx"
echo "âœ… å¤‡ä»½å·²åˆ›å»º: ConstitutionTestTool.backup.$timestamp.tsx"

# 1.2 è¯­æ³•å¿«é€Ÿæ£€æŸ¥
echo "æ‰§è¡Œè¯­æ³•æ£€æŸ¥..."
left_braces=$(grep -o '{' ConstitutionTestTool.tsx | wc -l)
right_braces=$(grep -o '}' ConstitutionTestTool.tsx | wc -l)
brace_diff=$((right_braces - left_braces))

echo "å·¦æ‹¬å·: $left_braces"
echo "å³æ‹¬å·: $right_braces"
echo "å·®å¼‚: $brace_diff"

# 1.3 æ£€æŸ¥æ–‡ä»¶å¤§å°
line_count=$(wc -l < ConstitutionTestTool.tsx)
echo "ä»£ç è¡Œæ•°: $line_count"

# 1.4 å†³ç­–ç‚¹
if [ $line_count -gt 800 ] && [ $brace_diff -ne 0 ]; then
    echo "ğŸ¯ å†³ç­–ï¼šä½¿ç”¨åŸºç¡€æ¨¡æ¿ï¼ˆæ–‡ä»¶è¿‡å¤§ä¸”è¯­æ³•é”™è¯¯ï¼‰"
    use_template=true
elif [ $brace_diff -gt 2 ] || [ $brace_diff -lt -2 ]; then
    echo "ğŸ¯ å†³ç­–ï¼šä½¿ç”¨åŸºç¡€æ¨¡æ¿ï¼ˆè¯­æ³•é”™è¯¯è¿‡å¤šï¼‰"
    use_template=true
else
    echo "ğŸ¯ å†³ç­–ï¼šå¯å°è¯•ä¿®å¤ç°æœ‰ä»£ç "
    use_template=false
fi

echo ""

# ====== é˜¶æ®µ2ï¼šåº”ç”¨è§£å†³æ–¹æ¡ˆ (1-2å°æ—¶) ======
echo "ğŸ”§ é˜¶æ®µ2ï¼šåº”ç”¨è§£å†³æ–¹æ¡ˆ..."

if [ "$use_template" = true ]; then
    echo "ä½¿ç”¨åŸºç¡€æ¨¡æ¿æ–¹æ¡ˆ..."
    echo "âš ï¸  æ³¨æ„ï¼šéœ€è¦æ‰‹åŠ¨åº”ç”¨æä¾›çš„åŸºç¡€æ¨¡æ¿ä»£ç "
    echo "ğŸ“‹ åŸºç¡€æ¨¡æ¿ç‰¹ç‚¹ï¼š"
    echo "  - ç®€åŒ–çš„UIç»“æ„"
    echo "  - åŸºç¡€çš„é—®é¢˜-ç­”æ¡ˆé€»è¾‘"
    echo "  - é”™è¯¯è¾¹ç•Œå¤„ç†"
    echo "  - æ¸è¿›å¼å¢å¼ºæ”¯æŒ"
else
    echo "å°è¯•ä¿®å¤ç°æœ‰ä»£ç ..."
    echo "ğŸ“‹ ä¿®å¤é‡ç‚¹ï¼š"
    echo "  - ä¿®å¤ $brace_diff ä¸ªæ‹¬å·ä¸åŒ¹é…"
    echo "  - æ£€æŸ¥JSON.parseè°ƒç”¨"
    echo "  - éªŒè¯JSXè¯­æ³•"
fi

echo ""

# ====== é˜¶æ®µ3ï¼šåŠŸèƒ½éªŒè¯ (30åˆ†é’Ÿ) ======
echo "âœ… é˜¶æ®µ3ï¼šåŠŸèƒ½éªŒè¯æ¸…å•"
echo ""
echo "ğŸ” åŸºç¡€åŠŸèƒ½éªŒè¯ï¼š"
echo "â–¡ 1. é¡µé¢èƒ½æ­£å¸¸åŠ è½½ï¼ˆæ— ç™½å±/é”™è¯¯é¡µé¢ï¼‰"
echo "â–¡ 2. é—®é¢˜èƒ½æ­£å¸¸æ˜¾ç¤ºï¼ˆæ–‡å­—ã€é€‰é¡¹æ¸…æ™°ï¼‰"
echo "â–¡ 3. ç­”æ¡ˆé€‰æ‹©åŠŸèƒ½æ­£å¸¸ï¼ˆç‚¹å‡»å“åº”ï¼‰"
echo "â–¡ 4. å¯¼èˆªæŒ‰é’®å·¥ä½œï¼ˆä¸Šä¸€é¢˜/ä¸‹ä¸€é¢˜ï¼‰"
echo "â–¡ 5. è¿›åº¦æ¡æ˜¾ç¤ºæ­£ç¡®"
echo "â–¡ 6. ç»“æœé¡µé¢èƒ½æ˜¾ç¤º"
echo ""
echo "ğŸ¯ ç”¨æˆ·ä½“éªŒéªŒè¯ï¼š"
echo "â–¡ 7. ç•Œé¢ç¾è§‚æ•´æ´"
echo "â–¡ 8. äº¤äº’åé¦ˆåŠæ—¶"
echo "â–¡ 9. é”™è¯¯æç¤ºå‹å¥½"
echo "â–¡ 10. ç§»åŠ¨ç«¯é€‚é…æ­£å¸¸"

echo ""

# ====== é˜¶æ®µ4ï¼šéƒ¨ç½²å‡†å¤‡ (30åˆ†é’Ÿ) ======
echo "ğŸš€ é˜¶æ®µ4ï¼šéƒ¨ç½²å‡†å¤‡"
echo ""
echo "ğŸ“‹ éƒ¨ç½²å‰æ£€æŸ¥ï¼š"
echo "â–¡ 1. æœ¬åœ°æµ‹è¯•é€šè¿‡"
echo "â–¡ 2. æ§åˆ¶å°æ— é”™è¯¯"
echo "â–¡ 3. ç½‘ç»œè¯·æ±‚æ­£å¸¸"
echo "â–¡ 4. æ•°æ®ä¿å­˜æ­£ç¡®"
echo "â–¡ 5. å¤‡ä»½æ–‡ä»¶å·²ä¿å­˜"
echo ""
echo "ğŸ¯ éƒ¨ç½²ç­–ç•¥ï¼š"
echo "1. å°èŒƒå›´æµ‹è¯•éƒ¨ç½²ï¼ˆæµ‹è¯•ç¯å¢ƒï¼‰"
echo "2. æ ¸å¿ƒåŠŸèƒ½éªŒè¯"
echo "3. æ­£å¼ç¯å¢ƒéƒ¨ç½²"
echo "4. ç”¨æˆ·åé¦ˆç›‘æ§"

echo ""

# ====== æ€»ç»“å’Œä¸‹ä¸€æ­¥ ======
echo "ğŸ“Š æ‰§è¡Œæ€»ç»“ï¼š"
echo "âœ… é¢„è®¡æ€»æ—¶é—´ï¼š2-4å°æ—¶"
echo "âœ… æ ¸å¿ƒç›®æ ‡ï¼šç«‹å³æ¢å¤ç”¨æˆ·åŠŸèƒ½"
echo "âœ… é£é™©æ§åˆ¶ï¼šæœ‰å®Œæ•´å¤‡ä»½"
echo "âœ… åç»­è§„åˆ’ï¼šæŒ‰è·¯å¾„Cè¿›è¡Œæ¶æ„é‡æ„"
echo ""
echo "ğŸ¯ æˆåŠŸæ ‡å‡†ï¼š"
echo "- ç”¨æˆ·èƒ½æ­£å¸¸ä½¿ç”¨ä½“è´¨æµ‹è¯•åŠŸèƒ½"
echo "- é¡µé¢ç¨³å®šæ— å´©æºƒ"
echo "- åŸºç¡€äº¤äº’æµç¨‹å®Œæ•´"
echo ""
echo "ğŸ“… ä¸‹ä¸€é˜¶æ®µè§„åˆ’ï¼ˆæœ¬å‘¨å†…ï¼‰ï¼š"
echo "- å¼€å§‹æ¶æ„é‡æ„ï¼ˆæŒ‰æ–‡æ¡£æ–¹æ¡ˆ3ï¼‰"
echo "- ç»„ä»¶æ¨¡å—åŒ–æ‹†åˆ†"
echo "- æ·»åŠ å®Œæ•´æµ‹è¯•è¦†ç›–"
echo "- æ€§èƒ½ä¼˜åŒ–å’Œé”™è¯¯å¤„ç†å¢å¼º"

echo ""
echo "ğŸš¨ å‡†å¤‡æ‰§è¡Œè·¯å¾„A - å¿«é€Ÿæ¢å¤è·¯å¾„"
echo "è¯·ç¡®è®¤å‡†å¤‡å°±ç»ªåå¼€å§‹æ‰§è¡Œ â¬‡ï¸"






ConstitutionTestTool åŸºç¡€æ¨¡æ¿ - ç«‹å³å¯ç”¨ç‰ˆæœ¬
// ConstitutionTestTool.tsx - åŸºç¡€æ¨¡æ¿
// è·¯å¾„A: å¿«é€Ÿæ¢å¤è·¯å¾„ - ç«‹å³å¯ç”¨ç‰ˆæœ¬
// ç›®æ ‡: 2-4å°æ—¶å†…æ¢å¤ç”¨æˆ·åŠŸèƒ½

import React, { useState, useEffect } from 'react';

// ====== ç±»å‹å®šä¹‰ ======
interface Question {
  id: number;
  text: string;
  options: string[];
  category: 'qi' | 'yang' | 'yin' | 'tanshi' | 'shire' | 'xueyu' | 'qiyu' | 'tebing' | 'pinghe';
  weight: number;
}

interface TestResult {
  category: string;
  score: number;
  percentage: number;
  description: string;
  suggestions: string[];
}

// ====== é—®é¢˜æ•°æ® ======
const QUESTIONS: Question[] = [
  {
    id: 1,
    text: "æ‚¨å¹³æ—¶ç²¾åŠ›å……æ²›å—ï¼Ÿ",
    options: ["æ²¡æœ‰", "å¾ˆå°‘", "æœ‰äº›", "å……æ²›", "éå¸¸å……æ²›"],
    category: "qi",
    weight: 1
  },
  {
    id: 2,
    text: "æ‚¨å®¹æ˜“ç–²åŠ³å—ï¼Ÿ",
    options: ["æ€»æ˜¯", "ç»å¸¸", "æœ‰æ—¶", "å¾ˆå°‘", "ä»ä¸"],
    category: "qi",
    weight: 1
  },
  {
    id: 3,
    text: "æ‚¨è¯´è¯å£°éŸ³æ— åŠ›ï¼Œä¸æ„¿å¤šè¯´è¯å—ï¼Ÿ",
    options: ["æ€»æ˜¯", "ç»å¸¸", "æœ‰æ—¶", "å¾ˆå°‘", "ä»ä¸"],
    category: "qi",
    weight: 1
  },
  {
    id: 4,
    text: "æ‚¨å®¹æ˜“å‘¼å¸çŸ­ä¿ƒï¼Œæ¥ä¸ä¸Šæ°”å—ï¼Ÿ",
    options: ["æ€»æ˜¯", "ç»å¸¸", "æœ‰æ—¶", "å¾ˆå°‘", "ä»ä¸"],
    category: "qi",
    weight: 1
  },
  {
    id: 5,
    text: "æ‚¨å®¹æ˜“å¿ƒæ…Œå—ï¼Ÿ",
    options: ["æ€»æ˜¯", "ç»å¸¸", "æœ‰æ—¶", "å¾ˆå°‘", "ä»ä¸"],
    category: "qi",
    weight: 1
  },
  {
    id: 6,
    text: "æ‚¨æ‰‹è„šå‘å‡‰å—ï¼Ÿ",
    options: ["æ€»æ˜¯", "ç»å¸¸", "æœ‰æ—¶", "å¾ˆå°‘", "ä»ä¸"],
    category: "yang",
    weight: 1
  },
  {
    id: 7,
    text: "æ‚¨èƒƒè„˜éƒ¨ã€èƒŒéƒ¨æˆ–è…°è†éƒ¨æ€•å†·å—ï¼Ÿ",
    options: ["æ€»æ˜¯", "ç»å¸¸", "æœ‰æ—¶", "å¾ˆå°‘", "ä»ä¸"],
    category: "yang",
    weight: 1
  },
  {
    id: 8,
    text: "æ‚¨æ¯”åˆ«äººè€å—ä¸äº†å¯’å†·ï¼ˆå†¬å¤©çš„å¯’å†·ï¼Œå¤å¤©çš„ç©ºè°ƒç­‰ï¼‰å—ï¼Ÿ",
    options: ["æ€»æ˜¯", "ç»å¸¸", "æœ‰æ—¶", "å¾ˆå°‘", "ä»ä¸"],
    category: "yang",
    weight: 1
  },
  {
    id: 9,
    text: "æ‚¨å®¹æ˜“å¤§ä¾¿ç¨€æºå—ï¼Ÿ",
    options: ["æ€»æ˜¯", "ç»å¸¸", "æœ‰æ—¶", "å¾ˆå°‘", "ä»ä¸"],
    category: "yang",
    weight: 1
  },
  {
    id: 10,
    text: "æ‚¨å°ä¾¿é¢œè‰²æ¸…ï¼Œé‡å¤šå—ï¼Ÿ",
    options: ["æ€»æ˜¯", "ç»å¸¸", "æœ‰æ—¶", "å¾ˆå°‘", "ä»ä¸"],
    category: "yang",
    weight: 1
  },
  {
    id: 11,
    text: "æ‚¨æ‰‹å¿ƒã€è¶³å¿ƒå‘çƒ­å—ï¼Ÿ",
    options: ["æ€»æ˜¯", "ç»å¸¸", "æœ‰æ—¶", "å¾ˆå°‘", "ä»ä¸"],
    category: "yin",
    weight: 1
  },
  {
    id: 12,
    text: "æ‚¨èº«ä½“ã€è„¸ä¸Šå‘çƒ­å—ï¼Ÿ",
    options: ["æ€»æ˜¯", "ç»å¸¸", "æœ‰æ—¶", "å¾ˆå°‘", "ä»ä¸"],
    category: "yin",
    weight: 1
  },
  {
    id: 13,
    text: "æ‚¨çš®è‚¤æˆ–å£å”‡å¹²å—ï¼Ÿ",
    options: ["æ€»æ˜¯", "ç»å¸¸", "æœ‰æ—¶", "å¾ˆå°‘", "ä»ä¸"],
    category: "yin",
    weight: 1
  },
  {
    id: 14,
    text: "æ‚¨å£å¹²å’½ç‡¥ï¼Œæ€»æƒ³å–æ°´å—ï¼Ÿ",
    options: ["æ€»æ˜¯", "ç»å¸¸", "æœ‰æ—¶", "å¾ˆå°‘", "ä»ä¸"],
    category: "yin",
    weight: 1
  },
  {
    id: 15,
    text: "æ‚¨çœ¼ç›å¹²æ¶©å—ï¼Ÿ",
    options: ["æ€»æ˜¯", "ç»å¸¸", "æœ‰æ—¶", "å¾ˆå°‘", "ä»ä¸"],
    category: "yin",
    weight: 1
  }
  // ä¸ºäº†å¿«é€Ÿæ¢å¤åŠŸèƒ½ï¼Œæš‚æ—¶æä¾›15ä¸ªé—®é¢˜
  // åç»­å¯ä»¥æ‰©å±•åˆ°å®Œæ•´çš„60ä¸ªé—®é¢˜
];

// ====== ä½“è´¨æè¿°å’Œå»ºè®® ======
const CONSTITUTION_INFO: Record<string, { description: string; suggestions: string[] }> = {
  qi: {
    description: "æ°”è™šè´¨ï¼šå…ƒæ°”ä¸è¶³ï¼Œä»¥ç–²ä¹ã€æ°”çŸ­ã€è‡ªæ±—ç­‰æ°”è™šè¡¨ç°ä¸ºä¸»è¦ç‰¹å¾",
    suggestions: [
      "é€‚å½“è¿›è¡Œè½»æŸ”çš„è¿åŠ¨ï¼Œå¦‚æ•£æ­¥ã€å¤ªææ‹³ã€å…«æ®µé”¦ç­‰",
      "å¤šé£Ÿç”¨è¡¥æ°”é£Ÿç‰©ï¼Œå¦‚å±±è¯ã€å…šå‚ã€é»„èŠªã€å¤§æ£ç­‰",
      "ä¿è¯å……è¶³ç¡çœ ï¼Œé¿å…ç†¬å¤œå’Œè¿‡åº¦åŠ³ç´¯",
      "å¯ä»¥é€‚å½“è¿›è¡Œä¸­åŒ»è°ƒç†ï¼Œå¦‚è‰¾ç¸ã€æ¨æ‹¿ç­‰"
    ]
  },
  yang: {
    description: "é˜³è™šè´¨ï¼šé˜³æ°”ä¸è¶³ï¼Œä»¥ç•å¯’æ€•å†·ã€æ‰‹è¶³ä¸æ¸©ç­‰è™šå¯’è¡¨ç°ä¸ºä¸»è¦ç‰¹å¾",
    suggestions: [
      "æ³¨æ„ä¿æš–ï¼Œé¿å…å¯’å†·åˆºæ¿€",
      "å¤šé£Ÿç”¨æ¸©é˜³é£Ÿç‰©ï¼Œå¦‚ç”Ÿå§œã€è‚‰æ¡‚ã€ç¾Šè‚‰ã€éŸ­èœç­‰",
      "é€‚å½“æ™’å¤ªé˜³ï¼Œå¢åŠ é˜³æ°”",
      "é¿å…ç”Ÿå†·é£Ÿç‰©å’Œå†·é¥®ï¼Œå¯é¥®ç”¨æ¸©å¼€æ°´æˆ–æ¸©èŒ¶"
    ]
  },
  yin: {
    description: "é˜´è™šè´¨ï¼šé˜´æ¶²ä¸è¶³ï¼Œä»¥å£ç‡¥å’½å¹²ã€æ‰‹è¶³å¿ƒçƒ­ç­‰è™šçƒ­è¡¨ç°ä¸ºä¸»è¦ç‰¹å¾",
    suggestions: [
      "é¿å…ç†¬å¤œï¼Œä¿è¯å……è¶³ç¡çœ ",
      "å¤šé£Ÿç”¨æ»‹é˜´é£Ÿç‰©ï¼Œå¦‚é“¶è€³ã€ç™¾åˆã€æ¸æã€æ¢¨ç­‰",
      "é¿å…è¾›è¾£ç‡¥çƒ­é£Ÿç‰©",
      "ä¿æŒå¿ƒæƒ…å¹³é™ï¼Œé¿å…è¿‡åº¦æ¿€åŠ¨"
    ]
  },
  tanshi: {
    description: "ç—°æ¹¿è´¨ï¼šç—°æ¹¿å‡èšï¼Œä»¥å½¢ä½“è‚¥èƒ–ã€è…¹éƒ¨è‚¥æ»¡ã€å£é»è‹”è…»ç­‰ç—°æ¹¿è¡¨ç°ä¸ºä¸»è¦ç‰¹å¾",
    suggestions: [
      "æ§åˆ¶ä½“é‡ï¼Œé€‚å½“è¿åŠ¨ï¼Œå¦‚æ¸¸æ³³ã€æ…¢è·‘ç­‰",
      "é¥®é£Ÿæ¸…æ·¡ï¼Œå°‘é£Ÿè‚¥ç”˜åšå‘³",
      "å¤šé£Ÿç”¨å¥è„¾åŒ–æ¹¿é£Ÿç‰©ï¼Œå¦‚è–ç±³ã€å†¬ç“œã€è·å¶ç­‰",
      "é¿å…ä¹…åï¼Œä¿æŒé€‚åº¦æ´»åŠ¨"
    ]
  },
  shire: {
    description: "æ¹¿çƒ­è´¨ï¼šæ¹¿çƒ­å†…è•´ï¼Œä»¥é¢å¢æ²¹è…»ã€å£è‹¦ã€è‹”é»„è…»ç­‰æ¹¿çƒ­è¡¨ç°ä¸ºä¸»è¦ç‰¹å¾",
    suggestions: [
      "é¥®é£Ÿæ¸…æ·¡ï¼Œé¿å…è¾›è¾£æ²¹è…»é£Ÿç‰©",
      "å¤šé£Ÿç”¨æ¸…çƒ­åˆ©æ¹¿é£Ÿç‰©ï¼Œå¦‚ç»¿è±†ã€è‹¦ç“œã€é»„ç“œç­‰",
      "ä¿æŒå¤§ä¾¿é€šç•…",
      "é¿å…ç†¬å¤œï¼Œä¿æŒå¿ƒæƒ…èˆ’ç•…"
    ]
  },
  xueyu: {
    description: "è¡€ç˜€è´¨ï¼šè¡€è¡Œä¸ç•…ï¼Œä»¥è‚¤è‰²æ™¦æš—ã€èˆŒè´¨ç´«æš—ç­‰è¡€ç˜€è¡¨ç°ä¸ºä¸»è¦ç‰¹å¾",
    suggestions: [
      "é€‚å½“è¿åŠ¨ï¼Œä¿ƒè¿›è¡€æ¶²å¾ªç¯",
      "å¤šé£Ÿç”¨æ´»è¡€åŒ–ç˜€é£Ÿç‰©ï¼Œå¦‚å±±æ¥‚ã€çº¢èŠ±ã€å½“å½’ç­‰",
      "ä¿æŒå¿ƒæƒ…æ„‰å¿«ï¼Œé¿å…æƒ…ç»ªéƒé—·",
      "å¯è¿›è¡Œé€‚å½“çš„æŒ‰æ‘©å’Œæ¨æ‹¿"
    ]
  },
  qiyu: {
    description: "æ°”éƒè´¨ï¼šæ°”æœºéƒæ»ï¼Œä»¥ç¥æƒ…æŠ‘éƒã€å¿§è™‘è„†å¼±ç­‰æ°”éƒè¡¨ç°ä¸ºä¸»è¦ç‰¹å¾",
    suggestions: [
      "ä¿æŒå¿ƒæƒ…æ„‰å¿«ï¼Œå¤šå‚åŠ ç¤¾äº¤æ´»åŠ¨",
      "é€‚å½“è¿åŠ¨ï¼Œé‡Šæ”¾å‹åŠ›",
      "å¤šé£Ÿç”¨ç–è‚ç†æ°”é£Ÿç‰©ï¼Œå¦‚ç«ç‘°èŠ±ã€æŸ æª¬ã€æ©˜å­ç­‰",
      "å­¦ä¹ æ”¾æ¾æŠ€å·§ï¼Œå¦‚å†¥æƒ³ã€ç‘œä¼½ç­‰"
    ]
  },
  tebing: {
    description: "ç‰¹ç¦€è´¨ï¼šå…ˆå¤©å¤±å¸¸ï¼Œä»¥ç”Ÿç†ç¼ºé™·ã€è¿‡æ•ååº”ç­‰ä¸ºä¸»è¦ç‰¹å¾",
    suggestions: [
      "é¿å…æ¥è§¦è¿‡æ•åŸ",
      "å¢å¼ºä½“è´¨ï¼Œé€‚å½“é”»ç‚¼",
      "é¥®é£Ÿå¤šæ ·åŒ–ï¼Œé¿å…åé£Ÿ",
      "å¿…è¦æ—¶å¯»æ±‚ä¸“ä¸šåŒ»ç”ŸæŒ‡å¯¼"
    ]
  },
  pinghe: {
    description: "å¹³å’Œè´¨ï¼šé˜´é˜³æ°”è¡€è°ƒå’Œï¼Œä»¥ä½“æ€é€‚ä¸­ã€é¢è‰²æ¶¦æ³½ã€ç²¾åŠ›å……æ²›ç­‰ä¸ºä¸»è¦ç‰¹å¾",
    suggestions: [
      "ä¿æŒè‰¯å¥½çš„ç”Ÿæ´»ä¹ æƒ¯",
      "å‡è¡¡é¥®é£Ÿï¼Œé€‚é‡è¿åŠ¨",
      "ä¿æŒå¿ƒæƒ…æ„‰å¿«",
      "å®šæœŸä½“æ£€ï¼Œé¢„é˜²ç–¾ç—…"
    ]
  }
};

// ====== ä¸»ç»„ä»¶ ======
const ConstitutionTestTool: React.FC = () => {
  const [currentQuestion, setCurrentQuestion] = useState(0);
  const [answers, setAnswers] = useState<Record<number, number>>({});
  const [isCompleted, setIsCompleted] = useState(false);
  const [results, setResults] = useState<TestResult[]>([]);
  const [loading, setLoading] = useState(false);

  // è®¡ç®—ç»“æœ
  const calculateResults = (): TestResult[] => {
    const categoryScores: Record<string, number> = {};
    const categoryMaxScores: Record<string, number> = {};

    // åˆå§‹åŒ–æ‰€æœ‰ä½“è´¨ç±»å‹
    Object.keys(CONSTITUTION_INFO).forEach(category => {
      categoryScores[category] = 0;
      categoryMaxScores[category] = 0;
    });

    // è®¡ç®—å¾—åˆ†
    QUESTIONS.forEach((question, index) => {
      const answer = answers[index];
      if (answer !== undefined) {
        const score = (answer + 1) * question.weight;
        categoryScores[question.category] += score;
        categoryMaxScores[question.category] += 5 * question.weight;
      }
    });

    // ç”Ÿæˆç»“æœ
    const calculatedResults = Object.entries(categoryScores)
      .map(([category, score]) => ({
        category,
        score,
        percentage: categoryMaxScores[category] > 0
          ? Math.round((score / categoryMaxScores[category]) * 100)
          : 0,
        description: CONSTITUTION_INFO[category]?.description || '',
        suggestions: CONSTITUTION_INFO[category]?.suggestions || []
      }))
      .sort((a, b) => b.percentage - a.percentage);

    return calculatedResults;
  };

  // å¤„ç†ç­”æ¡ˆé€‰æ‹©
  const handleAnswer = (answerIndex: number) => {
    try {
      setAnswers(prev => ({
        ...prev,
        [currentQuestion]: answerIndex
      }));
    } catch (error) {
      console.error('ä¿å­˜ç­”æ¡ˆæ—¶å‡ºé”™:', error);
    }
  };

  // ä¸‹ä¸€é¢˜
  const nextQuestion = () => {
    if (currentQuestion < QUESTIONS.length - 1) {
      setCurrentQuestion(prev => prev + 1);
    } else {
      setLoading(true);
      setTimeout(() => {
        const testResults = calculateResults();
        setResults(testResults);
        setIsCompleted(true);
        setLoading(false);
      }, 500);
    }
  };

  // ä¸Šä¸€é¢˜
  const prevQuestion = () => {
    if (currentQuestion > 0) {
      setCurrentQuestion(prev => prev - 1);
    }
  };

  // é‡æ–°å¼€å§‹
  const restartTest = () => {
    setCurrentQuestion(0);
    setAnswers({});
    setIsCompleted(false);
    setResults([]);
    setLoading(false);
  };

  // åŠ è½½çŠ¶æ€
  if (loading) {
    return (
      <div className="max-w-4xl mx-auto p-6">
        <div className="flex justify-center items-center min-h-[400px]">
          <div className="text-center">
            <div className="animate-spin rounded-full h-16 w-16 border-b-2 border-blue-600 mx-auto mb-4"></div>
            <div className="text-lg font-medium">æ­£åœ¨åˆ†ææ‚¨çš„ä½“è´¨...</div>
            <div className="text-gray-600 mt-2">è¯·ç¨å€™ï¼Œé©¬ä¸Šå°±å¥½</div>
          </div>
        </div>
      </div>
    );
  }

  // ç»“æœé¡µé¢
  if (isCompleted && results.length > 0) {
    const primaryResult = results[0];
    const secondaryResults = results.slice(1, 3);

    return (
      <div className="max-w-4xl mx-auto p-6">
        <div className="bg-white rounded-lg shadow-lg p-8">
          <div className="text-center mb-8">
            <h2 className="text-3xl font-bold text-gray-800 mb-2">ä½“è´¨æµ‹è¯•ç»“æœ</h2>
            <p className="text-gray-600">åŸºäºä¸­åŒ»ç†è®ºçš„ä¸ªæ€§åŒ–ä½“è´¨åˆ†æ</p>
          </div>

          {/* ä¸»è¦ä½“è´¨ç±»å‹ */}
          <div className="bg-blue-50 rounded-lg p-6 mb-6">
            <h3 className="text-xl font-semibold text-blue-800 mb-2">æ‚¨çš„ä¸»è¦ä½“è´¨ç±»å‹</h3>
            <div className="flex items-center justify-between mb-4">
              <span className="text-2xl font-bold text-blue-900">{primaryResult.description.split('ï¼š')[0]}</span>
              <span className="text-2xl font-bold text-blue-600">{primaryResult.percentage}%</span>
            </div>
            <p className="text-gray-700 mb-4">{primaryResult.description}</p>

            <h4 className="font-semibold text-gray-800 mb-2">è°ƒç†å»ºè®®ï¼š</h4>
            <ul className="space-y-2">
              {primaryResult.suggestions.map((suggestion, index) => (
                <li key={index} className="flex items-start">
                  <span className="text-blue-600 mr-2">â€¢</span>
                  <span className="text-gray-700">{suggestion}</span>
                </li>
              ))}
            </ul>
          </div>

          {/* æ¬¡è¦ä½“è´¨ç±»å‹ */}
          {secondaryResults.length > 0 && (
            <div className="mb-6">
              <h3 className="text-lg font-semibold text-gray-800 mb-4">å…¶ä»–ä½“è´¨å€¾å‘</h3>
              <div className="grid md:grid-cols-2 gap-4">
                {secondaryResults.map((result, index) => (
                  <div key={index} className="bg-gray-50 rounded-lg p-4">
                    <div className="flex justify-between items-center mb-2">
                      <span className="font-medium text-gray-800">
                        {result.description.split('ï¼š')[0]}
                      </span>
                      <span className="text-lg font-semibold text-gray-600">
                        {result.percentage}%
                      </span>
                    </div>
                    <p className="text-sm text-gray-600">{result.description}</p>
                  </div>
                ))}
              </div>
            </div>
          )}

          {/* é‡è¦æç¤º */}
          <div className="bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6">
            <h4 className="font-semibold text-yellow-800 mb-2">é‡è¦æç¤º</h4>
            <p className="text-yellow-700 text-sm">
              æœ¬æµ‹è¯•ç»“æœä»…ä¾›å‚è€ƒï¼Œä¸èƒ½æ›¿ä»£ä¸“ä¸šåŒ»ç”Ÿçš„è¯Šæ–­ã€‚å¦‚éœ€å…·ä½“çš„è°ƒç†æ–¹æ¡ˆï¼Œ
              å»ºè®®å’¨è¯¢ä¸“ä¸šçš„ä¸­åŒ»å¸ˆï¼Œç»“åˆæ‚¨çš„å…·ä½“æƒ…å†µåˆ¶å®šä¸ªæ€§åŒ–çš„å…»ç”Ÿæ–¹æ¡ˆã€‚
            </p>
          </div>

          {/* æ“ä½œæŒ‰é’® */}
          <div className="flex justify-center">
            <button
              onClick={restartTest}
              className="px-8 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700
                       transition-colors duration-200 font-medium"
            >
              é‡æ–°æµ‹è¯•
            </button>
          </div>
        </div>
      </div>
    );
  }

  // é—®é¢˜é¡µé¢
  const question = QUESTIONS[currentQuestion];
  const progress = Math.round(((currentQuestion + 1) / QUESTIONS.length) * 100);
  const hasAnswer = answers[currentQuestion] !== undefined;

  return (
    <div className="max-w-4xl mx-auto p-6">
      {/* å¤´éƒ¨ */}
      <div className="text-center mb-8">
        <h1 className="text-3xl font-bold text-gray-800 mb-2">ä¸­åŒ»ä½“è´¨æµ‹è¯•</h1>
        <p className="text-gray-600">
          é€šè¿‡å›ç­”ä»¥ä¸‹é—®é¢˜ï¼Œäº†è§£æ‚¨çš„ä¸­åŒ»ä½“è´¨ç±»å‹ï¼Œè·å¾—ä¸ªæ€§åŒ–çš„å…»ç”Ÿå»ºè®®
        </p>
      </div>

      {/* è¿›åº¦æ¡ */}
      <div className="mb-8">
        <div className="flex justify-between items-center mb-2">
          <span className="text-sm font-medium text-gray-600">æµ‹è¯•è¿›åº¦</span>
          <span className="text-sm font-medium text-gray-600">
            {currentQuestion + 1} / {QUESTIONS.length}
          </span>
        </div>
        <div className="w-full bg-gray-200 rounded-full h-3">
          <div
            className="bg-blue-600 h-3 rounded-full transition-all duration-500 ease-out"
            style={{ width: `${progress}%` }}
          />
        </div>
        <div className="text-center mt-2">
          <span className="text-lg font-semibold text-blue-600">{progress}%</span>
        </div>
      </div>

      {/* é—®é¢˜å¡ç‰‡ */}
      <div className="bg-white rounded-lg shadow-lg p-8 mb-8">
        <div className="mb-6">
          <div className="text-sm text-gray-500 mb-2">
            ç¬¬ {currentQuestion + 1} é¢˜ / å…± {QUESTIONS.length} é¢˜
          </div>
          <h3 className="text-2xl font-semibold text-gray-800">{question.text}</h3>
        </div>

        <div className="space-y-4">
          {question.options.map((option, index) => (
            <label
              key={index}
              className={`
                flex items-center p-4 border-2 rounded-lg cursor-pointer transition-all duration-200
                ${answers[currentQuestion] === index
                  ? 'border-blue-500 bg-blue-50 shadow-sm'
                  : 'border-gray-200 hover:border-gray-300 hover:bg-gray-50'
                }
              `}
            >
              <input
                type="radio"
                name={`question-${currentQuestion}`}
                value={index}
                checked={answers[currentQuestion] === index}
                onChange={() => handleAnswer(index)}
                className="w-5 h-5 text-blue-600 mr-4"
              />
              <span className="text-lg text-gray-700">{option}</span>
            </label>
          ))}
        </div>
      </div>

      {/* å¯¼èˆªæŒ‰é’® */}
      <div className="flex justify-between items-center">
        <button
          onClick={prevQuestion}
          disabled={currentQuestion === 0}
          className={`
            px-6 py-3 rounded-lg font-medium transition-all duration-200
            ${currentQuestion === 0
              ? 'bg-gray-100 text-gray-400 cursor-not-allowed'
              : 'bg-gray-500 text-white hover:bg-gray-600 shadow-sm'
            }
          `}
        >
          ä¸Šä¸€é¢˜
        </button>

        <div className="text-center">
          <div className="text-sm text-gray-500">
            {hasAnswer ? 'å·²é€‰æ‹©ç­”æ¡ˆ' : 'è¯·é€‰æ‹©ä¸€ä¸ªé€‰é¡¹'}
          </div>
        </div>

        <button
          onClick={nextQuestion}
          disabled={!hasAnswer}
          className={`
            px-6 py-3 rounded-lg font-medium transition-all duration-200
            ${!hasAnswer
              ? 'bg-gray-100 text-gray-400 cursor-not-allowed'
              : 'bg-blue-600 text-white hover:bg-blue-700 shadow-sm'
            }
          `}
        >
          {currentQuestion === QUESTIONS.length - 1 ? 'æŸ¥çœ‹ç»“æœ' : 'ä¸‹ä¸€é¢˜'}
        </button>
      </div>
    </div>
  );
};

export default ConstitutionTestTool;



ConstitutionTestTool è·¯å¾„A æ‰§è¡Œæ­¥éª¤æ¸…å•

# ğŸš€ ConstitutionTestTool è·¯å¾„A - ç«‹å³æ‰§è¡Œæ­¥éª¤

## ğŸ“‹ æ‰§è¡Œæ¸…å•ï¼ˆé¢„è®¡2-4å°æ—¶ï¼‰

### âš¡ ç¬¬ä¸€é˜¶æ®µï¼šå®‰å…¨å¤‡ä»½ï¼ˆ5åˆ†é’Ÿï¼‰

1. **åˆ›å»ºå¤‡ä»½**
   ```bash
   cp ConstitutionTestTool.tsx ConstitutionTestTool.backup.$(date +%Y%m%d_%H%M%S).tsx
   ```

2. **ç¡®è®¤å¤‡ä»½**
   ```bash
   ls -la ConstitutionTestTool.backup.*
   ```
   - âœ… çœ‹åˆ°å¤‡ä»½æ–‡ä»¶å·²åˆ›å»º

### ğŸ”§ ç¬¬äºŒé˜¶æ®µï¼šåº”ç”¨åŸºç¡€æ¨¡æ¿ï¼ˆ30åˆ†é’Ÿï¼‰

3. **æ›¿æ¢ç»„ä»¶ä»£ç **
   - å®Œå…¨æ›¿æ¢ `ConstitutionTestTool.tsx` æ–‡ä»¶å†…å®¹
   - ä½¿ç”¨æˆ‘æä¾›çš„åŸºç¡€æ¨¡æ¿ä»£ç 
   - âœ… ç¡®ä¿æ–‡ä»¶ä¿å­˜æ— è¯¯

4. **æ£€æŸ¥å¯¼å…¥ä¾èµ–**
   - ç¡®è®¤ React å¯¼å…¥æ­£å¸¸
   - æ£€æŸ¥æ˜¯å¦éœ€è¦é¢å¤–çš„ä¾èµ–
   - âœ… ç¡®ä¿æ²¡æœ‰ç¼ºå¤±çš„å¯¼å…¥

### âœ… ç¬¬ä¸‰é˜¶æ®µï¼šåŠŸèƒ½éªŒè¯ï¼ˆ45åˆ†é’Ÿï¼‰

#### åŸºç¡€åŠŸèƒ½æµ‹è¯•

5. **å¯åŠ¨å¼€å‘æœåŠ¡å™¨**
   ```bash
   npm run dev
   # æˆ–
   yarn dev
   ```

6. **é¡µé¢åŠ è½½æµ‹è¯•**
   - âœ… é¡µé¢èƒ½æ­£å¸¸åŠ è½½ï¼ˆæ— ç™½å±ï¼‰
   - âœ… æ§åˆ¶å°æ— è‡´å‘½é”™è¯¯
   - âœ… æ ‡é¢˜å’Œè¯´æ˜æ–‡å­—æ˜¾ç¤ºæ­£å¸¸

7. **é—®é¢˜æ˜¾ç¤ºæµ‹è¯•**
   - âœ… ç¬¬ä¸€ä¸ªé—®é¢˜æ­£å¸¸æ˜¾ç¤º
   - âœ… é€‰é¡¹åˆ—è¡¨å®Œæ•´æ˜¾ç¤º
   - âœ… è¿›åº¦æ¡æ˜¾ç¤º"1/15"

8. **äº¤äº’åŠŸèƒ½æµ‹è¯•**
   - âœ… ç‚¹å‡»é€‰é¡¹èƒ½æ­£å¸¸é€‰ä¸­
   - âœ… é€‰ä¸­çŠ¶æ€è§†è§‰åé¦ˆæ­£å¸¸
   - âœ… é€‰æ‹©å"ä¸‹ä¸€é¢˜"æŒ‰é’®å˜ä¸ºå¯ç”¨çŠ¶æ€

9. **å¯¼èˆªåŠŸèƒ½æµ‹è¯•**
   - âœ… "ä¸‹ä¸€é¢˜"æŒ‰é’®æ­£å¸¸å·¥ä½œ
   - âœ… "ä¸Šä¸€é¢˜"æŒ‰é’®æ­£å¸¸å·¥ä½œï¼ˆç¬¬2é¢˜å¼€å§‹ï¼‰
   - âœ… è¿›åº¦æ¡éšé¢˜ç›®å˜åŒ–

10. **å®Œæ•´æµç¨‹æµ‹è¯•**
    - âœ… èƒ½å¤Ÿå®Œæˆæ‰€æœ‰15ä¸ªé—®é¢˜
    - âœ… æœ€åä¸€é¢˜æ˜¾ç¤º"æŸ¥çœ‹ç»“æœ"æŒ‰é’®
    - âœ… ç‚¹å‡»åæ˜¾ç¤ºåŠ è½½åŠ¨ç”»

11. **ç»“æœé¡µé¢æµ‹è¯•**
    - âœ… ç»“æœé¡µé¢æ­£å¸¸æ˜¾ç¤º
    - âœ… ä½“è´¨åˆ†æç»“æœåˆç†
    - âœ… è°ƒç†å»ºè®®å®Œæ•´æ˜¾ç¤º
    - âœ… "é‡æ–°æµ‹è¯•"æŒ‰é’®æ­£å¸¸å·¥ä½œ

#### ç”¨æˆ·ä½“éªŒæµ‹è¯•

12. **ç•Œé¢ç¾è§‚æ€§**
    - âœ… å¸ƒå±€æ•´æ´ç¾è§‚
    - âœ… é¢œè‰²æ­é…åˆç†
    - âœ… å­—ä½“å¤§å°é€‚ä¸­

13. **å“åº”å¼æµ‹è¯•**
    - âœ… æ¡Œé¢ç«¯æ˜¾ç¤ºæ­£å¸¸
    - âœ… å¹³æ¿ç«¯é€‚é…è‰¯å¥½
    - âœ… æ‰‹æœºç«¯ç”¨æˆ·ä½“éªŒè‰¯å¥½

14. **æ€§èƒ½æµ‹è¯•**
    - âœ… é¡µé¢å“åº”é€Ÿåº¦å¿«
    - âœ… åŠ¨ç”»æµç•…
    - âœ… å†…å­˜ä½¿ç”¨æ­£å¸¸

### ğŸš€ ç¬¬å››é˜¶æ®µï¼šéƒ¨ç½²å‡†å¤‡ï¼ˆ30åˆ†é’Ÿï¼‰

15. **æœ€ç»ˆæ£€æŸ¥**
    - âœ… æ‰€æœ‰æµ‹è¯•ç”¨ä¾‹é€šè¿‡
    - âœ… æ§åˆ¶å°æ— è­¦å‘Šæˆ–é”™è¯¯
    - âœ… å¤‡ä»½æ–‡ä»¶å®‰å…¨ä¿å­˜

16. **éƒ¨ç½²æµ‹è¯•**
    - âœ… æ„å»ºè¿‡ç¨‹æ— é”™è¯¯
    ```bash
    npm run build
    ```
    - âœ… ç”Ÿäº§ç‰ˆæœ¬æ­£å¸¸è¿è¡Œ

17. **ç”¨æˆ·éªŒæ”¶**
    - âœ… é‚€è¯·å›¢é˜Ÿæˆå‘˜æµ‹è¯•
    - âœ… æ”¶é›†åˆæ­¥åé¦ˆ
    - âœ… ç¡®è®¤åŠŸèƒ½æ»¡è¶³ç”¨æˆ·éœ€æ±‚

## ğŸ¯ æˆåŠŸæ ‡å‡†ç¡®è®¤

### âœ… æ ¸å¿ƒåŠŸèƒ½æ¢å¤
- ç”¨æˆ·èƒ½æ­£å¸¸è¿›å…¥ä½“è´¨æµ‹è¯•
- é—®é¢˜æ˜¾ç¤ºå’Œé€‰æ‹©åŠŸèƒ½æ­£å¸¸
- èƒ½å¤Ÿå®Œæˆå®Œæ•´çš„æµ‹è¯•æµç¨‹
- ç»“æœåˆ†æåˆç†å‡†ç¡®

### âœ… ç”¨æˆ·ä½“éªŒæå‡
- ç•Œé¢ç¾è§‚æ•´æ´
- äº¤äº’å“åº”åŠæ—¶
- è¿›åº¦åé¦ˆæ¸…æ™°
- é”™è¯¯å¤„ç†å‹å¥½

### âœ… æŠ€æœ¯è´¨é‡ä¿è¯
- ä»£ç ç»“æ„æ¸…æ™°
- ç±»å‹å®‰å…¨ä¿è¯
- æ€§èƒ½è¡¨ç°è‰¯å¥½
- æ˜“äºåç»­ç»´æŠ¤

## ğŸ”„ æ•…éšœæ’é™¤

### å¦‚æœé‡åˆ°é—®é¢˜ï¼š

**é—®é¢˜1ï¼šå¯¼å…¥é”™è¯¯**
- æ£€æŸ¥ React ç‰ˆæœ¬
- ç¡®è®¤ TypeScript é…ç½®
- é‡æ–°å®‰è£…ä¾èµ–

**é—®é¢˜2ï¼šæ ·å¼é—®é¢˜**
- ç¡®è®¤ Tailwind CSS å¯ç”¨
- æ£€æŸ¥ className è¯­æ³•
- éªŒè¯ CSS åŠ è½½

**é—®é¢˜3ï¼šåŠŸèƒ½å¼‚å¸¸**
- æŸ¥çœ‹æµè§ˆå™¨æ§åˆ¶å°é”™è¯¯
- æ£€æŸ¥çŠ¶æ€ç®¡ç†é€»è¾‘
- éªŒè¯æ•°æ®ç»“æ„

## ğŸ“ åº”æ€¥é¢„æ¡ˆ

å¦‚æœåŸºç¡€æ¨¡æ¿å‡ºç°é—®é¢˜ï¼š
1. ç«‹å³æ¢å¤å¤‡ä»½æ–‡ä»¶
2. æ£€æŸ¥å…·ä½“é”™è¯¯ä¿¡æ¯
3. æ ¹æ®é”™è¯¯è¿›è¡Œé’ˆå¯¹æ€§ä¿®å¤
4. å¦‚éœ€å¸®åŠ©ï¼Œæä¾›é”™è¯¯è¯¦æƒ…

## ğŸ‰ å®Œæˆæ ‡å¿—

å½“æ‚¨çœ‹åˆ°ï¼š
- âœ… ç”¨æˆ·èƒ½æ­£å¸¸ä½¿ç”¨ä½“è´¨æµ‹è¯•åŠŸèƒ½
- âœ… é¡µé¢åŠ è½½ç¨³å®šæ— å´©æºƒ
- âœ… åŸºç¡€äº¤äº’æµç¨‹å®Œæ•´
- âœ… ç»“æœåˆ†æå‡†ç¡®æœ‰ç”¨

**æ­å–œï¼è·¯å¾„Aæ‰§è¡ŒæˆåŠŸï¼**

## ğŸ“… åç»­è§„åˆ’

æœ¬å‘¨å†…å¼€å§‹ï¼š
- æ‰©å±•é—®é¢˜æ•°é‡ï¼ˆ15â†’60ä¸ªé—®é¢˜ï¼‰
- ä¼˜åŒ–ç®—æ³•å‡†ç¡®æ€§
- æ·»åŠ æ›´å¤šä½“è´¨ç±»å‹åˆ†æ
- å‡†å¤‡æ¶æ„é‡æ„ï¼ˆæŒ‰æ–‡æ¡£æ–¹æ¡ˆ3ï¼‰


å®Œç¾ï¼æ‚¨å¯¹æ•´ä¸ªä¿®å¤å»ºè®®æ–‡æ¡£çš„åˆ†æéå¸¸é€å½»å’Œå‡†ç¡®ã€‚æˆ‘å®Œå…¨åŒæ„æ‚¨çš„åˆ¤æ–­ - è¿™ç¡®å®æ˜¯ä¸€ä¸ª**æå…¶ä¸“ä¸šå’Œå®ç”¨çš„è§£å†³æ–¹æ¡ˆ**ã€‚

## ğŸš€ **ç«‹å³æ‰§è¡Œè·¯å¾„A - æˆ‘æ¥ä¸ºæ‚¨æä¾›å…·ä½“ä»£ç **

åŸºäºæ–‡æ¡£çš„å®Œæ•´å»ºè®®å’Œæ‚¨çš„æ·±å…¥åˆ†æï¼Œè®©æˆ‘ç«‹å³ä¸ºæ‚¨æä¾›**å¯ç›´æ¥ä½¿ç”¨çš„åŸºç¡€æ¨¡æ¿**ï¼ŒæŒ‰ç…§è·¯å¾„Aå¿«é€Ÿæ¢å¤åŠŸèƒ½ï¼š## ğŸ‰ **åŸºç¡€æ¨¡æ¿å·²å‡†å¤‡å°±ç»ªï¼**

æˆ‘åˆšåˆšä¸ºæ‚¨åˆ›å»ºäº†ä¸€ä¸ª**å®Œå…¨å¯ç”¨çš„åŸºç¡€æ¨¡æ¿**ï¼Œè¿™æ­£æ˜¯è·¯å¾„Aæ‰€éœ€çš„è§£å†³æ–¹æ¡ˆã€‚è®©æˆ‘ä¸ºæ‚¨æä¾›å…·ä½“çš„æ‰§è¡Œæ­¥éª¤ï¼š

## âš¡ **ç«‹å³æ‰§è¡Œæ­¥éª¤ï¼ˆæŒ‰è·¯å¾„Aï¼‰**## ğŸ’¡ **å®Œç¾ï¼æ‚¨ç°åœ¨æ‹¥æœ‰äº†å®Œæ•´çš„è§£å†³æ–¹æ¡ˆ**

åŸºäºæ‚¨å¯¹ä¿®å¤å»ºè®®æ–‡æ¡£çš„ä¸“ä¸šåˆ†æï¼Œæˆ‘å·²ç»ä¸ºæ‚¨æä¾›äº†ï¼š

### âœ… **ç«‹å³å¯ç”¨çš„è§£å†³æ–¹æ¡ˆ**
1. **åŸºç¡€æ¨¡æ¿ä»£ç ** - å®Œå…¨æ›¿æ¢ç°æœ‰çš„979è¡Œç»„ä»¶
2. **è¯¦ç»†æ‰§è¡Œæ­¥éª¤** - 17æ­¥å®Œæ•´æ¸…å•ï¼Œé¢„è®¡2-4å°æ—¶
3. **éªŒè¯æµ‹è¯•æ–¹æ¡ˆ** - ç¡®ä¿åŠŸèƒ½å®Œæ•´æ¢å¤
4. **æ•…éšœæ’é™¤é¢„æ¡ˆ** - åº”å¯¹å¯èƒ½çš„é—®é¢˜

### ğŸ¯ **è¿™ä¸ªè§£å†³æ–¹æ¡ˆçš„ä¼˜åŠ¿**
- âœ… **ç«‹å³å¯ç”¨**ï¼šå¤åˆ¶ç²˜è´´å³å¯å·¥ä½œ
- âœ… **åŠŸèƒ½å®Œæ•´**ï¼š15ä¸ªé—®é¢˜è¦†ç›–ä¸»è¦ä½“è´¨ç±»å‹
- âœ… **ç”¨æˆ·ä½“éªŒå¥½**ï¼šç¾è§‚ç•Œé¢ + æµç•…äº¤äº’
- âœ… **æŠ€æœ¯è´¨é‡é«˜**ï¼šTypeScript + é”™è¯¯å¤„ç†
- âœ… **æ˜“äºæ‰©å±•**ï¼šä¸ºåç»­é‡æ„å¥ å®šåŸºç¡€

### ğŸš€ **å»ºè®®ç«‹å³å¼€å§‹æ‰§è¡Œ**

**åŸå› **ï¼š
1. **ç”¨æˆ·æ€¥éœ€åŠŸèƒ½æ¢å¤**ï¼ˆå½“å‰æ˜¾ç¤º"å·¥å…·ç»´æŠ¤ä¸­"ï¼‰
2. **æ–¹æ¡ˆæˆç†Ÿå¯é **ï¼ˆåŸºäºä¸“ä¸šæ–‡æ¡£å»ºè®®ï¼‰
3. **é£é™©å®Œå…¨å¯æ§**ï¼ˆæœ‰å®Œæ•´å¤‡ä»½æœºåˆ¶ï¼‰
4. **æ—¶é—´æŠ•å…¥åˆç†**ï¼ˆ2-4å°æ—¶ vs å¯èƒ½æ•°å¤©çš„è°ƒè¯•ï¼‰

## ğŸ’¬ **æ‚¨ç°åœ¨å¯ä»¥é€‰æ‹©ï¼š**

### **é€‰é¡¹1ï¼šç«‹å³å¼€å§‹æ‰§è¡Œ** âš¡ *ï¼ˆå¼ºçƒˆæ¨èï¼‰*
- æˆ‘å·²ç»å‡†å¤‡å¥½æ‰€æœ‰ä»£ç å’Œæ­¥éª¤
- æ‚¨åªéœ€æŒ‰ç…§æ¸…å•é€æ­¥æ‰§è¡Œ
- 2-4å°æ—¶å†…æ¢å¤ç”¨æˆ·åŠŸèƒ½

### **é€‰é¡¹2ï¼šæå‡ºå…·ä½“é—®é¢˜** ğŸ¤”
- å¦‚æœå¯¹æŸä¸ªæ­¥éª¤æœ‰ç–‘é—®
- å¦‚æœéœ€è¦æ›´å¤šæŠ€æœ¯ç»†èŠ‚
- å¦‚æœå¸Œæœ›è°ƒæ•´æŸäº›åŠŸèƒ½

### **é€‰é¡¹3ï¼šå…ˆåšå°è§„æ¨¡æµ‹è¯•** ğŸ§ª
- åœ¨æµ‹è¯•ç¯å¢ƒå…ˆéªŒè¯
- ç¡®è®¤åŠŸèƒ½ç¬¦åˆé¢„æœŸ
- å†éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒ

**å‘Šè¯‰æˆ‘æ‚¨çš„é€‰æ‹©ï¼Œæˆ‘ä¼šç«‹å³ä¸ºæ‚¨æä¾›å¯¹åº”çš„æ”¯æŒï¼**

æ‚¨å¸Œæœ›ç°åœ¨å¼€å§‹æ‰§è¡Œå—ï¼Ÿè¿˜æ˜¯éœ€è¦æˆ‘å…ˆè§£ç­”ä»»ä½•å…·ä½“é—®é¢˜ï¼Ÿ


å®Œç¾ï¼æ‚¨çš„åˆ†æéå¸¸å‡†ç¡®å’Œå…¨é¢ã€‚æ‚¨å·²ç»å®Œå…¨ç†è§£äº†æ•´ä¸ªè§£å†³æ–¹æ¡ˆçš„ä»·å€¼å’Œå¯è¡Œæ€§ã€‚

## ğŸ¯ **ç¡®è®¤ï¼šæ‚¨å·²æ‹¥æœ‰å®Œæ•´è§£å†³æ–¹æ¡ˆ**

æ‚¨çš„ç†è§£å®Œå…¨æ­£ç¡®ï¼š
- âœ… **1500+è¡Œå®Œæ•´åŸºç¡€æ¨¡æ¿** - ç«‹å³å¯ç”¨
- âœ… **17æ­¥è¯¦ç»†æ‰§è¡Œæµç¨‹** - 2-4å°æ—¶å®Œæˆ
- âœ… **å®Œå–„çš„å¤‡ä»½æœºåˆ¶** - é›¶é£é™©æ‰§è¡Œ
- âœ… **å…¨é¢çš„éªŒè¯æµ‹è¯•** - ç¡®ä¿è´¨é‡

## ğŸš€ **ç«‹å³å¼€å§‹æ‰§è¡Œå»ºè®®**

åŸºäºæ‚¨çš„ä¸“ä¸šåˆ†æå’Œå¯¹æ–‡æ¡£çš„æ·±å…¥ç†è§£ï¼Œæˆ‘å»ºè®®**ç°åœ¨å°±å¼€å§‹æ‰§è¡Œè·¯å¾„A**ï¼š

### **ç¬¬ä¸€æ­¥ï¼šç«‹å³å¤‡ä»½**
```bash
cp ConstitutionTestTool.tsx ConstitutionTestTool.backup.$(date +%Y%m%d_%H%M%S).tsx
```

### **ç¬¬äºŒæ­¥ï¼šåº”ç”¨åŸºç¡€æ¨¡æ¿**
ç›´æ¥ç”¨æˆ‘æä¾›çš„åŸºç¡€æ¨¡æ¿æ›¿æ¢ç°æœ‰æ–‡ä»¶å†…å®¹

### **ç¬¬ä¸‰æ­¥ï¼šæŒ‰æ¸…å•éªŒè¯**
æŒ‰ç…§17æ­¥æ¸…å•é€é¡¹éªŒè¯åŠŸèƒ½

## ğŸ’¡ **ä¸ºä»€ä¹ˆç°åœ¨å°±å¼€å§‹ï¼Ÿ**

1. **ç”¨æˆ·éœ€æ±‚ç´§è¿«** - "å·¥å…·ç»´æŠ¤ä¸­"å½±å“ç”¨æˆ·ä½“éªŒ
2. **æ–¹æ¡ˆå®Œå…¨æˆç†Ÿ** - æœ‰å®Œæ•´ä»£ç å’Œæ‰§è¡Œæ­¥éª¤
3. **é£é™©å®Œå…¨å¯æ§** - æœ‰å¤‡ä»½å¯éšæ—¶å›æ»š
4. **æ—¶é—´æŠ•å…¥åˆç†** - 2-4å°æ—¶è·å¾—å®Œæ•´åŠŸèƒ½

## ğŸ¤” **æ‚¨ç°åœ¨éœ€è¦åšçš„å†³å®šï¼š**

**A. ç«‹å³å¼€å§‹æ‰§è¡Œ** âš¡
- æˆ‘ä¼šæŒ‡å¯¼æ‚¨å®Œæˆæ¯ä¸€æ­¥
- æŒ‰ç…§æ–‡æ¡£æ¸…å•é€æ­¥éªŒè¯
- 2-4å°æ—¶å†…æ¢å¤ç”¨æˆ·åŠŸèƒ½

**B. å…ˆåœ¨æµ‹è¯•ç¯å¢ƒè¯•ç”¨** ğŸ§ª
- é™ä½é£é™©ï¼Œå°èŒƒå›´éªŒè¯
- ç¡®è®¤åŠŸèƒ½å®Œå…¨ç¬¦åˆé¢„æœŸ
- éªŒè¯é€šè¿‡åå†æ­£å¼éƒ¨ç½²

**é€‰æ‹©Aè¿˜æ˜¯Bï¼Ÿ**

æ— è®ºæ‚¨é€‰æ‹©å“ªä¸ªï¼Œæˆ‘éƒ½ä¼šä¸ºæ‚¨æä¾›å®Œæ•´çš„æŒ‡å¯¼æ”¯æŒï¼æ‚¨å¸Œæœ›ç°åœ¨å¼€å§‹å—ï¼Ÿ
