#!/bin/sh
. "$(dirname "$0")/_/husky.sh"

echo "ğŸ” è¿è¡Œ pre-commit æ£€æŸ¥..."
echo ""

# è¿è¡Œ lint-staged
npx lint-staged

# è¿è¡Œç¿»è¯‘é”®åŒæ­¥æ£€æŸ¥
echo ""
echo "ğŸ” æ£€æŸ¥ç¿»è¯‘é”®åŒæ­¥æ€§..."
if ! node scripts/check-translation-sync.js; then
    echo ""
    echo "âŒ ç¿»è¯‘é”®åŒæ­¥æ£€æŸ¥å¤±è´¥ï¼"
    echo "è¯·ä¿®å¤ç¿»è¯‘é”®é—®é¢˜åé‡æ–°æäº¤ã€‚"
    echo ""
    exit 1
fi

echo ""
echo "âœ… æ‰€æœ‰ pre-commit æ£€æŸ¥é€šè¿‡ï¼"
